(self.webpackChunkfazla=self.webpackChunkfazla||[]).push([[401],{4215:function(e,t,a){"use strict";a.r(t)},4611:function(e,t,a){"use strict";a.r(t)},9892:function(e,t,a){"use strict";a.r(t)},5670:function(e,t,a){"use strict";a.r(t)},8957:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppContext=void 0;const i=l(a(7294)),s=a(1825),c=a(5207),d=o(a(8493)),u=o(a(3527)),m=o(a(9483)),f=o(a(3960)),p=o(a(1633)),h=o(a(8321)),g=o(a(2580)),v=o(a(127)),y=a(5470),E=a(268),S=a(578),b=o(a(8587));t.AppContext=i.default.createContext({});const C=({component:e,...t})=>{const a=s.useSelector((e=>e.appState));return t.location&&t.location.pathname&&sessionStorage.setItem("rr",t.location.pathname),"ERROR"===a.cState?i.default.createElement(c.Redirect,{to:{pathname:"/error"}}):"INIT"!==a.cState||a.isData?i.default.createElement(c.Route,{...t,component:e}):i.default.createElement(c.Redirect,{to:{pathname:"/"}})};t.default=()=>{const e=s.useDispatch(),a=i.useRef(new f.default),[r,n,l,o]=y.useToast(!0,3e3),w=E.useTooltip(),N=m.default.createInstance({name:"Fazla-storage",version:1}),T=s.useSelector((e=>e.appState));return i.useEffect((()=>{"INIT"!==T.cState||T.isData||e(S.initShipData(a.current,"web",N))}),[]),i.default.createElement(c.HashRouter,null,i.default.createElement("div",{className:"App"},i.default.createElement(t.AppContext.Provider,{value:{addToast:r,onToastDismiss:n,popToast:l,toasts:o,shipData:a.current,storage:N,tooltip:w}},i.default.createElement(c.Switch,null,i.default.createElement(c.Route,{exact:!0,path:"/"},T.isData&&sessionStorage.getItem("rr")?i.default.createElement(c.Redirect,{to:sessionStorage.getItem("rr")}):i.default.createElement(b.default,null)),i.default.createElement(C,{path:"/ships"},i.default.createElement(d.default,null)),i.default.createElement(C,{path:"/formations"},i.default.createElement(p.default,{viewOnly:!1})),i.default.createElement(C,{path:"/options"},i.default.createElement(u.default,null)),i.default.createElement(C,{path:"/link/:code"},i.default.createElement(p.default,{viewOnly:!0})),i.default.createElement(c.Route,{path:"/error"},i.default.createElement(h.default,null)),i.default.createElement(c.Route,null,i.default.createElement(h.default,{isNotFound:!0}))),i.default.createElement(g.default,{position:"bottom-right"}),i.default.createElement(v.default,null))))}},2937:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=o(a(7015)),c=a(1825),d=a(8957),u=a(2014),m=o(a(1105));t.default=({themeColor:e,isSmallScreen:t,children:a})=>{const r=i.useRef(null),n=c.useDispatch(),{shipData:l}=i.useContext(d.AppContext),o=i.useRef(null),[f,p]=i.useState(!1),h=c.useSelector((e=>e.searchParameters)),[g,v]=i.useState(!1);return i.useEffect((()=>{h.hullType.All&&h.nationality.All&&h.rarity.All?g&&v(!1):v(!0)}),[h.hullType,h.nationality,h.rarity]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:{display:"flex",flexDirection:"row",width:"100%",flexWrap:"wrap"},ref:r,id:"categories",className:`button-group rounded ${e}`},i.default.createElement("button",{ref:o,className:`btn normal ${e}`,type:"button",onClick:()=>{p(!f)},style:{flexGrow:1}},i.default.createElement("span",{style:{display:"inline-block"}},"Categories")),i.default.createElement(s.default,{show:f,rootClose:!0,offset:t?[0,10]:[140,10],onHide:()=>p(!1),placement:t?"bottom":"right",container:r,target:r},(({props:t})=>i.default.createElement("div",{className:`popover-container ${e}`,...t},a))),i.default.createElement(m.default,{className:`btn normal ${e} ${g?"selected":""}`,extraStyle:{flexGrow:1},disabled:!g,onClick:()=>{n(u.resetToggles()),n(u.updateSearch(l,u.SearchAction.UpdateList))}},i.default.createElement("span",{style:{display:"inline-block"}},"Reset"))))}},369:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DropDownButton=void 0;const o=l(a(7294)),i=a(8879),s=a(4356),c=a(258),d=o.default.memo((({themeColor:e,isSelected:t,text:a,index:r,style:n,onClick:l})=>{const i=o.useCallback((()=>{l(r)}),[l,r]);return o.default.createElement("button",{type:"button",className:`small rounded menu-item ${e} ${t?"selected":""}`,onClick:i,style:n},o.default.createElement("span",null,a))})),u=({options:e,listData:t,selectedIdx:a,selectIndex:r,onSelect:n})=>{const[l,{show:c}]=i.useDropdownMenu({flip:!0,offset:[0,8]}),u=o.useCallback((e=>{r(e),n(!c)}),[n,r,c]);return o.default.createElement("div",{...l,role:"menu",className:`dropdown-menu ${e.dropdownClass} ${e.themeColor}`,style:{display:c?"flex":"none"}},t?o.default.createElement(s.FixedSizeList,{height:e.listLimit&&t?23*(m=e.listLimit,f=t,f.length<m?f.length:m):"100%",itemCount:t.length,itemSize:23,width:"100%"},(({index:r,style:n})=>o.default.createElement(d,{key:`${t[r]}-${r+1}`,text:t[r],isSelected:r===a&&void 0!==a,themeColor:e.themeColor,onClick:u,index:r,style:{...n,top:n.top+1,height:22,width:"calc(100% - 4px)"}}))):o.default.createElement(o.default.Fragment,null));var m,f},m=({options:e})=>{const[t,{show:a}]=i.useDropdownToggle(),[r,n]=o.useState(!1);return o.default.createElement("button",{type:"button",...t,className:`dropdown-toggle ${e.dropdownClass} tab-btn ${e.toggleSize} ${e.themeColor} ${r?"":"no-focus-outline"}`,onKeyUp:e=>{"Tab"===e.key&&n(!0)},onMouseUp:()=>{r&&n(!1)}},o.default.createElement("span",null,e.toggleText),o.default.createElement("div",{className:"btn-icon "+(a?"":"close")},o.default.createElement(c.CaretDown,{themeColor:e.themeColor})))};t.DropDownButton=({options:e,show:t,onToggle:a,drop:r,alignEnd:n,selectedIdx:l,listData:s,selectIndex:c,onSelect:d})=>o.default.createElement(i.Dropdown,{show:t,onToggle:a,drop:r,alignEnd:n,itemSelector:"button:not(:disabled)"},o.default.createElement("div",{className:`dropdown ${e.dropdownClass}`},o.default.createElement(m,{options:e}),t?o.default.createElement(u,{options:e,listData:s,selectedIdx:l,selectIndex:c,onSelect:d}):o.default.createElement(o.default.Fragment,null))),t.default=t.DropDownButton},9135:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(216),d=o(a(369));t.default=()=>{const e=s.useDispatch(),t=s.useSelector((e=>e.formationGrid)),a=s.useSelector((e=>e.config)),r=t.formations.map((e=>e.name)),[n,l]=i.useState(!1);return i.default.createElement(d.default,{options:{toggleText:void 0===t.selectedIndex||0===r.length?"Formations":r[t.selectedIndex],dropdownClass:"formation",toggleSize:"normal",themeColor:a.themeColor,listLimit:10},show:n,onToggle:e=>l(e),drop:"down",alignEnd:!0,selectedIdx:t.selectedIndex,listData:r,selectIndex:t=>{e(c.selectFormation(t))},onSelect:l})}},8321:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(7294)),l=a(1825),o=r(a(3622)),i=r(a(1480)),s=r(a(2901));t.default=({isNotFound:e=!1})=>{const t=l.useSelector((e=>e.appState)),a=l.useSelector((e=>e.config));return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.default,{showMenu:e}),n.default.createElement("div",{className:`page ${a.themeColor}`},n.default.createElement("div",{id:"error",className:"container content"},n.default.createElement(s.default,null,e?"Page not found.":t.eMsg))),n.default.createElement(o.default,null))}},3622:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(7294)),l=a(1825);t.default=()=>{const e=l.useSelector((e=>e.appState)),t=l.useSelector((e=>e.config));return n.default.createElement("div",{id:"footer",className:`${t.themeColor}`},n.default.createElement("div",{className:"footer-msg-container"},n.default.createElement("div",{id:"footer-version-msg"},n.default.createElement("a",{className:"no-focus-outline",href:"https://github.com/AzurAPI/azurapi-js-setup",target:"_blank",rel:"noreferrer"},"Ship data"),": ",(r=e.versions.ships["version-number"],Number.isNaN(r)?"-":`v${r}`)," |"," ",(a=e.versions.ships["last-data-refresh-date"],Number.isNaN(a)?"-":new Date(a).toLocaleDateString())),n.default.createElement("div",{id:"footer-state-msg",style:{justifyContent:"flex-end"}},n.default.createElement("span",null,"Code by ",n.default.createElement("a",{className:"no-focus-outline",href:"https://github.com/Rutle/fazla",target:"_blank",rel:"noreferrer"},"Rutle")))));var a,r}},8610:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(8957),d=a(216),u=a(250),m=o(a(369)),f=({shipIdx:e,slotIdx:t,fleetIdx:a,formIdx:r,isOldFormation:n,text:l,listData:o,listLimit:u=10,size:f="small"})=>{const p=s.useDispatch(),[h,g]=i.useState(!1),[v,y]=i.useState(),E=s.useSelector((e=>e.config)),{shipData:S}=i.useContext(c.AppContext);return i.default.createElement(m.default,{show:h,onToggle:e=>g(e),drop:"down",alignEnd:!0,selectedIdx:v,listData:o.slice().map((e=>e.names.en)),selectIndex:l=>{p(d.formationAction(d.FormationAction.AddEq,{eqData:{formIdx:r,fleetIdx:a,shipIdx:e,slotIdx:t,isOldFormation:n,eqId:S.getEqCustomId(o[l].id)}}))},onSelect:g,options:{listLimit:u,themeColor:E.themeColor,toggleSize:f,dropdownClass:"equipment",toggleText:l}})};t.default=i.default.memo((({selectedFleetIndex:e,data:t,equipmentData:a,isOldFormation:r,viewOnly:n=!1})=>{const l=s.useSelector((e=>e.config)),o=s.useSelector((e=>e.formationGrid)),{shipData:d}=i.useContext(c.AppContext),m=i.useRef(null);return i.default.createElement("div",{id:"equipment-grid",className:`f-grid rounded gap ${l.themeColor}`},i.default.createElement("div",{className:"f-row gap wrap"},i.default.createElement("div",{className:"f-column",style:{minWidth:"0",width:"50%"}},i.default.createElement("div",{className:"f-row fleet gap"},t[e].slice(0,3).map(((t,l)=>t&&!n?u.parseFits(t.slots,d,!0,t.retrofit).map((n=>i.default.createElement("div",{ref:m,key:t.names.en,className:"f-column",style:{gap:"2px 0px",minWidth:"0"}},Object.keys(n).map(((s,c)=>i.default.createElement(f,{key:`${t.names.en}-slot-${c+1}`,shipIdx:l+6*e,slotIdx:c,formIdx:o.selectedIndex,fleetIdx:e,isOldFormation:r,text:a[e][l][c],listData:n[s]})))))):i.default.createElement("div",{key:`none-${l+1}`,className:"f-column",style:{gap:"2px 0px",minWidth:"0",width:"50%"}},i.default.createElement("div",{className:"dropdown placeholder"},i.default.createElement("span",{style:{height:"18px"}},t?a[e][l][0]:"-")),i.default.createElement("div",{className:"dropdown placeholder"},i.default.createElement("span",{style:{height:"18px"}},t?a[e][l][1]:"-")),i.default.createElement("div",{className:"dropdown placeholder"},i.default.createElement("span",{style:{height:"18px"}},t?a[e][l][2]:"-"))))))),t[e].length>3?i.default.createElement("div",{className:"f-column",style:{minWidth:"0",width:"50%"}},i.default.createElement("div",{className:"f-row fleet gap"},t[e].slice(3).map(((t,l)=>t&&!n?u.parseFits(t.slots,d,!0,t.retrofit).map((n=>i.default.createElement("div",{ref:m,key:t.names.en,className:"f-column",style:{gap:"2px 0px",minWidth:"0"}},Object.keys(n).map(((s,c)=>i.default.createElement(f,{key:`${t.names.en}-slot-${c+1}`,shipIdx:l+3+6*e,slotIdx:c,formIdx:o.selectedIndex,fleetIdx:e,isOldFormation:r,text:a[e][l+3][c],listData:n[s]})))))):i.default.createElement("div",{key:`none-${l+1}`,className:"f-column",style:{gap:"2px 0px",minWidth:"0",width:"50%"}},i.default.createElement("div",{className:"dropdown placeholder"},i.default.createElement("span",{style:{height:"18px"}},t?a[e][l+3][0]:"-")),i.default.createElement("div",{className:"dropdown placeholder"},i.default.createElement("span",{style:{height:"18px"}},t?a[e][l+3][1]:"-")),i.default.createElement("div",{className:"dropdown placeholder"},i.default.createElement("span",{style:{height:"18px"}},t?a[e][l+3][2]:"-"))))))):i.default.createElement(i.default.Fragment,null)))}))},2819:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=o(a(2528));t.default=i.default.memo((({fleetName:e,themeColor:t,selectedFleetIndex:a,ships:r,openSearchSection:n,selectedGridIndex:l,fleetCount:o,isSubFleet:c,viewOnly:d=!1})=>{const u=i.useRef(null),m=i.useRef(null),f=i.useRef(null),p=i.useCallback((e=>()=>{n&&n(e)}),[n]);return i.default.createElement("div",{id:"formation-grid",className:`f-grid rounded gap ${t}`},i.default.createElement("div",{className:"f-row gap wrap "+(a===o?"hidden":"")},i.default.createElement("div",{id:"main-section",className:"f-column",ref:m,style:{width:"50%"}},r.slice(0,o).map(((r,n)=>i.default.createElement("div",{key:`main-${n+1}-${e}`,className:"f-row fleet"+(a===n?"":" hidden")},r.slice(0,3).map(((e,a)=>i.default.createElement(s.default,{key:`main-${6*n+a}`,index:6*n+a,ship:e,themeColor:t,onClick:p(6*n+a),isSelected:l===6*n+a,fleetCount:o,isInteractive:!d}))))))),i.default.createElement("div",{id:"vanguard-section",className:"f-column",ref:u,style:{width:"50%"}},r.slice(0,o).map(((r,n)=>i.default.createElement("div",{key:`vanguard-${n+1}-${e}`,className:"f-row fleet"+(a===n?"":" hidden")},r.slice(3).map(((e,a)=>i.default.createElement(s.default,{key:`van-${6*n+(a+3)}`,index:6*n+(a+3),ship:e,themeColor:t,onClick:p(6*n+(a+3)),isSelected:l===6*n+(a+3),fleetCount:o,isInteractive:!d})))))))),i.default.createElement("div",{className:"f-row gap wrap"},i.default.createElement("div",{id:"submarine-section",className:"f-column"+(a===o?"":" hidden"),ref:f,style:{marginBottom:"10px"}},c?r.slice(-1).map((a=>i.default.createElement("div",{key:"submarine",className:"f-row fleet"},a.map(((a,r)=>i.default.createElement(s.default,{key:`sub-${6*o+r}-${e}`,index:6*o+r,ship:a,themeColor:t,onClick:p(6*o+r),isSelected:l===6*o+r,isSub:!0,fleetCount:o,isInteractive:!d})))))):i.default.createElement("div",{style:{display:"flex",justifyContent:"center",fontVariantCaps:"all-petite-caps",marginBottom:"10px"}},"No submarines"))))}))},2528:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(7243),d=a(216),u=a(250),m=a(5079),f=o(a(1105));t.default=({index:e,ship:t,themeColor:a,onClick:r,isSelected:n,fleetCount:l,isSub:o=!1,isInteractive:p=!0})=>{const{dragFunctions:h,dragStates:g,transferData:v}=m.useDragAndDrop({dataKeys:["grid-index","transfer-type","ship-id",u.getFleet({index:e,fleetCount:l})],baseKey:u.getFleet({index:e,fleetCount:l}),overKey:"fleet",isValidDropZone:(y=c.fleets,(e,t)=>!("none"===e||"none"===t||e!==t&&!(y.MAIN.includes(e)&&y.MAIN.includes(t)||y.MAIN.includes(e)&&"main"===t)&&!(y.VANGUARD.includes(e)&&y.VANGUARD.includes(t)||y.VANGUARD.includes(e)&&"vanguard"===t)&&!(y.SUBS.includes(e)&&y.SUBS.includes(t)||y.SUBS.includes(e)&&"submarine"===t)))});var y;const E=s.useDispatch();return i.useEffect((()=>{if(!g.isDragged&&g.isTransferOk){const{start:e,end:t}=v;if("switch"===e["transfer-type"])E(d.formationAction(d.FormationAction.Switch,{switchData:[e["grid-index"],t["grid-index"]]}));else if("insert"===e["transfer-type"]){const a=Number.parseInt(t["grid-index"],10),r=e["ship-id"];E(d.formationAction(d.FormationAction.Insert,{insertData:{gridIndex:a,shipID:r}}))}}}),[v,E,g]),i.default.createElement(i.default.Fragment,null,p?i.default.createElement(f.default,{onClick:r,onRightClick:t=>{2===t.button&&t.preventDefault(),E(d.formationAction(d.FormationAction.RemoveShip,{gridIndex:e}))},className:`grid-item ship btn hullTypeAbb ${n?"selected":""} ${t?.hullType||"none"}`,themeColor:a,dragProps:{dragFunctions:h,dragOptions:{draggable:"true"},data:{"grid-index":e,"ship-id":t?.id||"none","transfer-type":"switch",fleet:u.getFleet({index:e,fleetCount:l}),[u.getFleet({index:e,fleetCount:l})]:"fleet"}}},i.default.createElement("span",null,t?`${t.names.en}`:`Add ${o?"ship":(e=>{switch(e){case 1:case 7:case 13:case 19:return"flagship";case 3:case 9:case 15:case 21:return"frontmost";case 5:case 11:case 17:case 23:return"backmost";default:return"ship"}})(e)}`)):i.default.createElement("div",{className:`grid-item ship btn non-interactive ${a} hullTypeAbb ${t?.hullType||"none"}`},i.default.createElement("span",null,t?`${t.names.en}`:"Empty")))}},4609:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=o(a(6388)),c=o(a(5690)),d=a(258);t.default=({themeColor:e,fleet:t,isSelected:a})=>{const[r,n]=i.useState(!0),[l,o]=i.useState(!0),[u,m]=i.useState({main:!0,vanguard:!0}),f=i.useRef(null),p=i.useRef(null),h=s.default({ref:f}),g=s.default({ref:p}),[v,y]=i.useState({mainHeight:void 0,vanguardHeight:void 0});i.useEffect((()=>{if(f&&f.current&&void 0!==h.height)if(v.mainHeight&&h.height+100>v.mainHeight&&u.main){const e=Array.from(f.current.children).reduce(((e,t)=>e+t.getBoundingClientRect().height),0);y({...v,mainHeight:e+100})}else if(r&&!u.main){const e=Array.from(f.current.children).reduce(((e,t)=>e+t.getBoundingClientRect().height),0);y({...v,mainHeight:e+100}),m({...u,main:!0})}else!r&&u.main&&m({...u,main:!1})}),[r,h.height]),i.useEffect((()=>{if(p&&p.current&&void 0!==g.height)if(v.vanguardHeight&&g.height+100>v.vanguardHeight&&u.vanguard){const e=Array.from(p.current.children).reduce(((e,t)=>e+t.getBoundingClientRect().height),0);y({...v,vanguardHeight:e+100})}else if(l&&!u.vanguard){const e=Array.from(p.current.children).reduce(((e,t)=>e+t.getBoundingClientRect().height),0);y({...v,vanguardHeight:e+100}),m({...u,vanguard:!0})}else!l&&u.vanguard&&m({...u,vanguard:!1})}),[l,g.height]),i.useEffect((()=>{const e=f.current,t=p.current;if(e&&t&&!h.height&&!g.height&&!v.mainHeight&&!v.vanguardHeight&&a){const a=Array.from(e.children).reduce(((e,t)=>e+t.getBoundingClientRect().height),0),r=Array.from(t.children).reduce(((e,t)=>e+t.getBoundingClientRect().height),0);y({vanguardHeight:r+100,mainHeight:a+100})}}),[a]);const E=e=>"main"===e?t.slice(0,3).every((e=>void 0===e)):"vanguard"===e&&t.slice(3,6).every((e=>void 0===e)),S=e=>e?{optionalName:e.names.en,skills:e.skills,hullType:e.hullType}:{optionalName:"",skills:void 0};return i.default.createElement("div",{className:`f-grid rounded gap ${e}`},E("main")?i.default.createElement(i.default.Fragment,null):i.default.createElement("div",{className:"f-column section"},i.default.createElement("div",{className:`f-row action ${e} no-focus-outline`,onClick:()=>{n(!r)}},i.default.createElement("div",{className:"f-header"},"Main"),i.default.createElement("div",{className:"f-icon "+(r?"":"close")},i.default.createElement(d.CaretDown,{themeColor:e}))),i.default.createElement("div",{ref:f,className:"f-body f-collapsible"+(r?"":" collapsed"),style:u.main?{maxHeight:v.mainHeight}:{maxHeight:0}},i.default.createElement(c.default,{...S(t[0])}),i.default.createElement(c.default,{...S(t[1])}),i.default.createElement(c.default,{...S(t[2])}))),E("vanguard")?i.default.createElement(i.default.Fragment,null):i.default.createElement("div",{className:"f-column section"},i.default.createElement("div",{className:`f-row action ${e} no-focus-outline`,onClick:()=>o(!l)},i.default.createElement("div",{className:"f-header"},"Vanguard"),i.default.createElement("div",{className:"f-icon"+(l?"":" close")},i.default.createElement(d.CaretDown,{themeColor:e}))),i.default.createElement("div",{ref:p,className:"f-body f-collapsible"+(l?"":" collapsed"),style:u.vanguard?{maxHeight:v.vanguardHeight}:{maxHeight:0}},i.default.createElement(c.default,{...S(t[3])}),i.default.createElement(c.default,{...S(t[4])}),i.default.createElement(c.default,{...S(t[5])}))))}},1633:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=o(a(3253)),d=a(8957),u=a(216),m=a(5128),f=a(2014),p=a(578),h=o(a(6388)),g=a(250),v=a(5207),y=o(a(1821)),E=o(a(2819)),S=o(a(4609)),b=o(a(9135)),C=o(a(4208)),w=o(a(805)),N=o(a(1105)),T=o(a(8422)),A=o(a(4032)),_=o(a(6229)),D=o(a(8272)),M=o(a(3379)),O=a(258),k=o(a(4801)),I=o(a(8610)),x=o(a(2901)),P={formationData:void 0,fleetTabIndex:0,warning:void 0,cAction:void 0,validCode:void 0,selectedGrid:NaN,showSearch:!1},F=(e,t)=>{switch(t.type){case"READY":return{...e,warning:t.warning,formationData:t.data,cAction:t.cAction,validCode:t.validCode,importedF:t.importedF,selectedGrid:NaN};case"WARNING":return{...e,fleetTabIndex:0,formationData:void 0,warning:t.warning,validCode:t.validCode,selectedGrid:NaN};case"SELECTFLEET":return{...e,fleetTabIndex:t.fleetIndex,showSearch:t.showSearch,selectedGrid:t.shipIndex};case"SELECTSHIP":return{...e,selectedGrid:t.index};case"OPENSEARCH":return{...e,showSearch:!0};case"HIDESEARCH":return{...e,showSearch:!1,selectedGrid:NaN};default:return e}};c.default.setAppElement("#root"),t.default=({viewOnly:e})=>{const t=s.useDispatch(),a=v.useHistory(),{code:r}=v.useParams(),n=s.useSelector((e=>e.ownedSearchList)),l=s.useSelector((e=>e.shipSearchList)),{shipData:o,storage:L,addToast:j}=i.useContext(d.AppContext),R=s.useSelector((e=>e.config)),B=s.useSelector((e=>e.formationGrid)),$=s.useSelector((e=>e.appState)),[U,q]=i.useState({modal:"",isOpen:!1}),G=i.useRef(null),H=i.useRef(null),[V,W]=M.default(),z=i.useRef(null),K=h.default({ref:z}),Q=i.useRef(0),[{fleetTabIndex:X,warning:Y,formationData:J,cAction:Z,validCode:ee,importedF:te,selectedGrid:ae,showSearch:re},ne]=i.useReducer(F,P);i.useEffect((()=>{if(e){const e=decodeURIComponent(r),t=g.parseImportCode(e);t?g.getFormationData(t,o).then((e=>{ne({type:"READY",data:e,validCode:!0,importedF:t,cAction:e.convertAction})})).catch((e=>{e instanceof Error&&ne({type:"WARNING",warning:e.message})})):ne({type:"WARNING",warning:"Invalid import code.",validCode:!1})}}),[r,e]);const le=i.useCallback((e=>{"top"===e&&W&&W.current&&W.current.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"}),"ship"===e&&G&&G.current&&G.current.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"}),"reset"===e&&W&&W.current&&W.current.scrollIntoView(!0)}),[W]),oe=i.useCallback((()=>{ne({type:"HIDESEARCH"}),t(f.setFleet({fleet:"ALL"}))}),[t]);i.useEffect((()=>{ne({type:"SELECTFLEET",fleetIndex:0,showSearch:!1,shipIndex:NaN}),t(f.setFleet({fleet:"ALL"}))}),[t,B.selectedIndex]),i.useEffect((()=>{re&&le("reset")}),[le,re]),i.useEffect((()=>{e||0===B.formations.length||g.getFormationData(B.formations[B.selectedIndex],o).then((e=>{ne({type:"READY",data:e,cAction:e.convertAction})})).catch((e=>{e instanceof Error&&ne({type:"WARNING",warning:e.message})}))}),[B.selectedIndex,B.formations,e,o]);const ie=i.useCallback((e=>{if(ne({type:"SELECTSHIP",index:e}),!Number.isNaN(e)&&o&&void 0!==e&&J){let a="ALL";u.MAININDEX[J.fleetCount].includes(e)?a="MAIN":u.VANGUARDINDEX[J.fleetCount].includes(e)?a="VANGUARD":u.SUBMARINE[J.fleetCount].includes(e)&&(a="SUBMARINE"),t(f.setFleet({fleet:a})),t(p.setIsUpdated({key:$.cToggle,value:!1})),t(f.updateSearch(o,f.SearchAction.UpdateList,{list:$.cToggle}))}ne({type:"OPENSEARCH"})}),[$.cToggle,t,J,o]);i.useEffect((()=>{B.isEdit.some((e=>!1!==e))&&t(u.formationAction(u.FormationAction.Save,{storage:L}))}),[t,B.isEdit]),i.useEffect((()=>{"RUNNING"===$.cState&&oe()}),[$.cState,R.themeColor]),i.useEffect((()=>{K&&K.width&&K.height&&K.height!==Q.current&&(Q.current=K.height),K&&K.height&&K.height!==Q.current&&(Q.current=K.height)}),[K.width,K.height]);const se=i.useCallback((e=>()=>{ne({type:"SELECTFLEET",fleetIndex:e,showSearch:!1,shipIndex:NaN})}),[]);return i.default.createElement(y.default,null,i.default.createElement(i.default.Fragment,null,i.default.createElement(c.default,{overlayClassName:`modal-overlay ${R.themeColor}`,isOpen:U.isOpen,className:"modal-container formation-action rounded",onRequestClose:()=>{U.isOpen&&q({modal:"",isOpen:!1})}},"new"===U.modal?i.default.createElement(C.default,{setModalOpen:q}):"rename"===U.modal?i.default.createElement(w.default,{setModalOpen:q}):"import"===U.modal||"export"===U.modal?i.default.createElement(T.default,{setModalOpen:q,isType:U.modal}):i.default.createElement(i.default.Fragment,null)),i.default.createElement("div",{id:"formations",className:"scroll container content"},i.default.createElement("div",{id:"formation-tab",ref:z},i.default.createElement("div",{className:`f-grid rounded ${R.themeColor}`},i.default.createElement("div",{className:"tab",style:{gap:"5px"}},e&&ee&&i.default.createElement(N.default,{themeColor:R.themeColor,className:"tab-btn normal",onClick:()=>{t(u.formationAction(u.FormationAction.Import,{importedFormation:te},j)),a.push("/formations")}},i.default.createElement("span",{style:{display:"inline-block"}},"Save and Close")),!e&&0!==B.formations.length&&i.default.createElement(i.default.Fragment,null,i.default.createElement(b.default,null),i.default.createElement(N.default,{themeColor:R.themeColor,className:"tab-btn normal",onClick:()=>q({modal:"new",isOpen:!0})},"New"),i.default.createElement(N.default,{themeColor:R.themeColor,className:"tab-btn normal",onClick:()=>t(u.formationAction(u.FormationAction.Remove,{storage:L},j)),disabled:0===B.formations.length},"Remove"),i.default.createElement(N.default,{themeColor:R.themeColor,className:"tab-btn normal",onClick:()=>q({modal:"rename",isOpen:!0})},"Rename"),i.default.createElement(N.default,{themeColor:R.themeColor,disabled:!!Z||!!Y,className:"tab-btn normal",onClick:()=>q({modal:"export",isOpen:!0})},"Export"),i.default.createElement(N.default,{themeColor:R.themeColor,className:"tab-btn normal",onClick:()=>q({modal:"import",isOpen:!0})},"Import"),Z&&i.default.createElement(N.default,{themeColor:R.themeColor,className:"tab-btn normal selected",onClick:()=>{Z&&t(u.formationAction(u.FormationAction.Convert,{convertType:Z}))}},"Convert"),i.default.createElement(k.default,{data:i.default.createElement("ul",null,i.default.createElement("li",null,"Left mouse click to select a ship."),i.default.createElement("li",null,"Right mouse click to remove a ship."),i.default.createElement("li",null,"Drag and drop ships.")),WrapperElement:"div",extraProps:{style:{maxWidth:"20px",padding:"2px",display:"flex",alignItems:"center"}}},i.default.createElement(O.QuestionCircleIcon,{themeColor:R.themeColor})))))),J?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{id:"fleet-selector",className:`f-grid rounded ${R.themeColor}`},i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"tab fleets",style:{gap:"5px"}},J.fleets.map(((e,t)=>i.default.createElement(N.default,{key:"fleet-button-"+t*J.fleets.length,themeColor:R.themeColor,className:"tab-btn normal"+(X===t?" selected":""),onClick:se(t),disabled:0===B.formations.length},t+1===J.fleets.length?"Submarines":`Fleet ${t+1}`)))))),i.default.createElement(E.default,{fleetName:B.formations[B.selectedIndex].name,themeColor:R.themeColor,selectedFleetIndex:X,ships:J.fleets,openSearchSection:ie,selectedGridIndex:ae,fleetCount:J.fleetCount,isSubFleet:"SUB"!==Z,viewOnly:e}),i.default.createElement(I.default,{selectedFleetIndex:X,data:J.fleets,equipmentData:J.equipment,isOldFormation:!!Z,viewOnly:e}),i.default.createElement("div",{className:"scroll",style:{minHeight:"300px"}},J.fleets.map(((e,t)=>i.default.createElement("div",{id:"passive-section",key:"tab"+t*J.fleets.length,className:X!==t?"hidden":""},i.default.createElement(S.default,{key:"passive-"+t*J.fleets.length,fleet:e,themeColor:R.themeColor,isSelected:X===t})))))):i.default.createElement(x.default,null,e&&!ee?Y:Y||"No formation data.")),!e&&i.default.createElement(m.CSSTransition,{nodeRef:H,in:re,timeout:300,classNames:"search-section"},i.default.createElement("div",{id:"formation-ship-search",ref:H,className:`${J&&2===J.fleetCount?"normal-fleet":"siren-fleet"} ${R.themeColor}`,style:Q.current?{top:`${Q.current+166}px`,minHeight:`calc(100% - ${Q.current+194}px)`,height:`calc(100% - ${Q.current+194}px)`}:{}},i.default.createElement(_.default,{refer:W},i.default.createElement(A.default,{shipSearchList:l,listName:"ALL",scrollTo:()=>le("ship"),isDraggable:!0}),i.default.createElement(A.default,{shipSearchList:n,listName:"OWNED",scrollTo:()=>le("ship"),isDraggable:!0})),i.default.createElement("div",{id:"small-nav",className:`navigation ${R.themeColor}`,style:V?K.width&&K.width<=546?{right:"10px",top:"200px",display:"inline-flex",position:"fixed",padding:"12px"}:{display:"inline-flex",top:"0px",right:"0px",position:"absolute",padding:"12px"}:{}},V?i.default.createElement(i.default.Fragment,null):i.default.createElement(N.default,{themeColor:R.themeColor,className:"nav-item",onClick:()=>le("top"),extraStyle:{display:"flex",padding:"6px",marginTop:"4px",borderRadius:"inherit"}},i.default.createElement(O.ArrowDegUp,{themeColor:R.themeColor,className:"icon"})),i.default.createElement(N.default,{themeColor:R.themeColor,className:"nav-item",onClick:()=>oe(),extraStyle:{display:"flex",padding:"6px",marginTop:"4px",borderRadius:"inherit"}},i.default.createElement(O.CloseIcon,{themeColor:R.themeColor,className:"icon"}))),i.default.createElement("div",{id:"ship-details-content",ref:G},i.default.createElement(D.default,{topButtonGroup:i.default.createElement(i.default.Fragment,null,i.default.createElement(N.default,{themeColor:R.themeColor,onClick:()=>{t(u.formationAction(u.FormationAction.AddShip,{shipData:o,gridIndex:ae})),ne({type:"HIDESEARCH"})},className:"btn normal icon"},i.default.createElement("div",{className:"btn-icon"},i.default.createElement(O.PlusIcon,{themeColor:R.themeColor})),"Fleet"))}))))))}},3527:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(578),d=a(4485),u=a(8957),m=o(a(1821)),f=o(a(1105)),p=o(a(1578));t.default=()=>{const e=s.useDispatch(),{addToast:t,shipData:a}=i.useContext(u.AppContext),r=s.useSelector((e=>e.appState)),n=s.useSelector((e=>e.ownedShips)),l=s.useSelector((e=>e.config)),[o,h]=i.useState(r.shipCount),[g,v]=i.useState(n.length),[y,E]=i.useState({count:0,isUpdate:!1});i.useEffect((()=>{v(n.length)}),[n]),i.useEffect((()=>{h(r.shipCount)}),[r.shipCount]);const S=i.useCallback(((t,a)=>{e(d.configAction(d.AppConfigAction.Update,{key:t,value:a}))}),[e]);return i.default.createElement(m.default,null,i.default.createElement("div",{className:"container content",style:{height:"100%"}},i.default.createElement("div",{className:`f-grid rounded ${l.themeColor}`},i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"f-header"},"Options")),i.default.createElement("div",{className:"f-column f-body widen"},i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Update ship data"),i.default.createElement("div",{className:"grid-item action"},(()=>{let n="Update",o=!1;return"RUNNING"!==r.cState&&"INIT"!==r.cState&&(n="Please wait",o=!0),i.default.createElement("div",{className:`button-group rounded ${l.themeColor}`},i.default.createElement(f.default,{themeColor:`${l.themeColor}`,onClick:()=>{E({count:a.getShips().length,isUpdate:!0}),l.isToast&&t("info","Update","Updating ship information."),e(c.updateShipData(a,t))},disabled:o},n))})())),i.default.createElement(i.default.Fragment,null),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Theme color"),i.default.createElement("div",{className:"grid-item action"},i.default.createElement("div",{className:`radio-group rounded ${l.themeColor}`},i.default.createElement(p.default,{id:"dark",value:"dark",themeColor:l.themeColor,onChange:()=>S("themeColor","dark"),selected:"dark"===l.themeColor},"Dark"),i.default.createElement(p.default,{id:"light",value:"light",themeColor:l.themeColor,onChange:()=>S("themeColor","light"),selected:"light"===l.themeColor},"Light")))),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Last update on"),i.default.createElement("div",{className:"grid-item name",style:{maxWidth:"unset"}},""!==l.updateDate?l.updateDate:"N/A")))),i.default.createElement("div",{className:`f-grid rounded ${l.themeColor}`},i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"f-header"},"Stats")),i.default.createElement("div",{className:"f-column f-body widen"},i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Ship count"),i.default.createElement("div",{className:"grid-item action"},(()=>{if(y.isUpdate&&"RUNNING"===r.cState){const e=a.getShips().length-y.count;return i.default.createElement(i.default.Fragment,null,o," (",i.default.createElement("span",{style:{color:e>=0?"LimeGreen":"firebrick"}},`${e>=0?"+":""}${e}`),")")}return"INIT"===r.cState?"∞":("UPDATING"===r.cState||"SAVING"===r.cState||y.isUpdate||r.cState,o)})())),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Ships in docks"),i.default.createElement("div",{className:"grid-item action"},"INIT"===r.cState?"-":g))))))}},258:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ArrowLeftRight=t.BoxArrowUp=t.QuestionCircleIcon=t.DashIcon=t.PlusIcon=t.ArrowDegUp=t.CaretDown=t.RestoreIcon=t.CloseIcon=t.MaxIcon=t.MinIcon=void 0;const n=r(a(7294));t.MinIcon=({themeColor:e})=>n.default.createElement("svg",{width:"10",height:"10","aria-hidden":"true"},n.default.createElement("path",{stroke:"light"===e?"white":"var(--main-dark-color)",fill:"light"===e?"white":"var(--main-dark-color)",strokeLinecap:"round",strokeWidth:"2",d:"M0 5h10v1H0z"})),t.MaxIcon=({themeColor:e})=>n.default.createElement("svg",{width:"12",height:"12",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",stroke:"light"===e?"white":"var(--main-dark-color)",fill:"light"===e?"white":"var(--main-dark-color)"},n.default.createElement("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"})),t.CloseIcon=({themeColor:e,className:t=""})=>n.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:t,stroke:"light"===e?"white":"var(--main-dark-color)",fill:"light"===e?"white":"var(--main-dark-color)",viewBox:"0 0 16 16"},n.default.createElement("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})),t.RestoreIcon=({themeColor:e})=>n.default.createElement("svg",{width:"10",height:"10","aria-hidden":"true"},n.default.createElement("path",{strokeLinecap:"round",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`,strokeWidth:"2",d:"M2 0v2H0v8h8V8h2V0zm1 1h6v6H8V2H3zM1 3h6v6H1z"})),t.CaretDown=({themeColor:e})=>n.default.createElement("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`},n.default.createElement("path",{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"})),t.ArrowDegUp=({themeColor:e,width:t="16px",height:a="16px",className:r="icon"})=>n.default.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:t,height:a,viewBox:"0 0 16 16",stroke:"light"===e?"white":"var(--main-dark-color)",fill:"light"===e?"white":"var(--main-dark-color)"},n.default.createElement("path",{fillRule:"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"})),t.PlusIcon=({themeColor:e,width:t="16px",height:a="16px",className:r="icon"})=>n.default.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:t,height:a,viewBox:"0 0 16 16",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`},n.default.createElement("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})),t.BoxArrowUp=({themeColor:e,width:t="16px",height:a="16px",className:r="icon"})=>n.default.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:t,height:a,stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`,viewBox:"0 0 16 16"},n.default.createElement("path",{fillRule:"evenodd",d:"M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1h-2z"}),n.default.createElement("path",{fillRule:"evenodd",d:"M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"})),t.DashIcon=({themeColor:e,width:t="16px",height:a="16px",className:r="icon"})=>n.default.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:t,height:a,viewBox:"0 0 16 16",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`},n.default.createElement("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})),t.QuestionCircleIcon=({themeColor:e,width:t="16px",height:a="16px",className:r="icon"})=>n.default.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:t,height:a,viewBox:"0 0 16 16",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`},n.default.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),n.default.createElement("path",{d:"M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"})),t.ArrowLeftRight=({themeColor:e,width:t="10px",height:a="10px",className:r="icon"})=>n.default.createElement("svg",{className:r,xmlns:"http://www.w3.org/2000/svg",width:t,height:a,viewBox:"0 0 16 16",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`},n.default.createElement("path",{fillRule:"evenodd",d:"M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z"}))},8587:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(5207),d=o(a(3622)),u=o(a(1480));t.default=()=>{const e=c.useHistory(),t=s.useSelector((e=>e.appState)),a=s.useSelector((e=>e.config));return i.useEffect((()=>{const a=sessionStorage.getItem("rr");"RUNNING"===t.cState&&t.isData,"RUNNING"===t.cState&&t.isData&&null===a&&e.push("/ships"),"ERROR"===t.cState&&e.push("/error")}),[t.cState]),i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,{showMenu:!1}),i.default.createElement("div",{className:`page ${a.themeColor}`},i.default.createElement("div",{className:`container content ${a.themeColor}`,style:{justifyContent:"center",height:"100%"}},i.default.createElement("div",{style:{height:"200px",width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},"RUNNING"!==t.cState?t.cMsg:"Launching."))),i.default.createElement(d.default,null))}},2901:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(7294)),l=a(1825);t.default=({children:e})=>{const t=l.useSelector((e=>e.config));return n.default.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center"}},n.default.createElement("div",{className:`message-container ${t.themeColor}`,style:{alignSelf:"center",minHeight:"40px"}},n.default.createElement("span",{className:"message",style:{justifyContent:"center",width:"100%"}},e)))}},8422:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(250),d=a(216),u=a(258),m=o(a(1105)),f=o(a(1578));t.default=({setModalOpen:e,isType:t})=>{const a=s.useDispatch(),r=s.useSelector((e=>e.config)),n=s.useSelector((e=>e.formationGrid)),[l,o]=i.useState({url:"",code:""}),[p,h]=i.useState(""),[g,v]=i.useState("url"),[y,E]=i.useState(!1),[S,b]=i.useState(!0),[C,w]=i.useState({data:[],equipment:[],name:""}),[N,T]=i.useState(!1),A=i.useRef(null);return i.useEffect((()=>{if("export"===t){const e=c.encodeFormation(n.formations[n.selectedIndex]),t=encodeURIComponent(e),a=window.location.href.split("/").slice(0,-1).concat("link").join("/");o({url:`${a}/${t}`,code:t})}}),[n.formations,n.selectedIndex,t]),i.useEffect((()=>{if("import"===t)try{const e=decodeURIComponent(p),t=c.parseImportCode(e);t?(w(t),b(!0)):(w({data:[],equipment:[],name:""}),b(!1))}catch(e){w({data:[],equipment:[],name:""}),b(!1)}}),[p]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"modal-title"},"export"===t?"Export formation":"import"===t?"Import formation":""),i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",null,i.default.createElement("div",{id:"input-group",className:`${r.themeColor} ${y?"input-focus":""} ${S||0===p.length?"":"is-invalid"}`},"import"===t?i.default.createElement(i.default.Fragment,null,i.default.createElement("input",{id:"code-input",type:"text",autoFocus:!0,spellCheck:"false",className:`${r.themeColor}`,placeholder:"Input import code without url",value:p,onChange:e=>{h(e.target.value)},onFocus:e=>{E(!0),e.target.select()},onBlur:()=>E(!1),onKeyUp:t=>{"Enter"===t.key&&(a(d.formationAction(d.FormationAction.Import,{importedFormation:C})),e({modal:"",isOpen:!1}))}}),p.length>0?i.default.createElement(m.default,{themeColor:r.themeColor,className:"btn input",onClick:()=>{h("")}},i.default.createElement(u.CloseIcon,{themeColor:r.themeColor,className:"icon"})):i.default.createElement(i.default.Fragment,null)):i.default.createElement("input",{ref:A,id:"code-input",type:"text",spellCheck:"false",className:`${r.themeColor}`,placeholder:"",value:l[g],readOnly:!0,style:{padding:"2px 6px 2px 6px"}}))),"export"===t?i.default.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px",justifyContent:"center"}},i.default.createElement("div",{className:`radio-group rounded ${r.themeColor}`},i.default.createElement(f.default,{id:"normal-toggle",value:"normal",className:"btn normal",themeColor:r.themeColor,onChange:()=>v("url"),selected:"url"===g},"Link"),i.default.createElement(f.default,{id:"siren-toggle",value:"siren",className:"btn normal",themeColor:r.themeColor,onChange:()=>v("code"),selected:"code"===g},"Code"))):i.default.createElement(i.default.Fragment,null)),i.default.createElement("div",{className:"modal-action"},i.default.createElement("div",{className:`button-group rounded full-width ${r.themeColor}`},"import"===t?i.default.createElement(i.default.Fragment,null,i.default.createElement(m.default,{disabled:!S||0===p.length,themeColor:r.themeColor,onClick:()=>{a(d.formationAction(d.FormationAction.Import,{importedFormation:C})),e({modal:"",isOpen:!1})}},"Import"),i.default.createElement(m.default,{themeColor:r.themeColor,onClick:()=>e({modal:"",isOpen:!1})},"Cancel")):i.default.createElement(m.default,{themeColor:r.themeColor,onClick:async()=>{await(async()=>{A&&A.current&&(A.current.select(),navigator.clipboard?await navigator.clipboard.writeText(A.current.value):(document.execCommand("copy"),A.current.focus(),T(!0)))})(),e({modal:"",isOpen:!1})}},N?"Copied successfully.":"Copy to clipboard"))))}},4208:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(216),d=a(8957),u=o(a(1105)),m=o(a(1578)),f=a(258);t.default=({setModalOpen:e})=>{const t=s.useDispatch(),{addToast:a}=i.useContext(d.AppContext),r=s.useSelector((e=>e.config)),[n,l]=i.useState(""),[o,p]=i.useState("normal"),[h,g]=i.useState(!1);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"modal-title"},"Create new formation"),i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",null,i.default.createElement("div",{id:"input-group",className:`${r.themeColor} ${h?"input-focus":""}`},i.default.createElement("input",{id:"name-input",type:"text",spellCheck:"false",className:`${r.themeColor}`,placeholder:"Formation name",value:n,onChange:e=>{l(e.target.value)},onFocus:e=>{g(!0),e.target.select()},onBlur:()=>g(!1),onKeyUp:r=>{"Enter"===r.key&&(t(c.formationAction(c.FormationAction.New,{formationName:n,formationType:o},a)),e({modal:"",isOpen:!1}))}}),n.length>0?i.default.createElement(u.default,{themeColor:r.themeColor,className:"btn input",onClick:()=>{l("")}},i.default.createElement(f.CloseIcon,{themeColor:r.themeColor,className:"icon"})):i.default.createElement(i.default.Fragment,null))),i.default.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px",justifyContent:"center"}},i.default.createElement("div",{className:`radio-group rounded ${r.themeColor}`},i.default.createElement(m.default,{id:"normal-toggle",value:"normal",className:"btn normal",themeColor:r.themeColor,onChange:()=>p("normal"),selected:"normal"===o},"Normal"),i.default.createElement(m.default,{id:"siren-toggle",value:"siren",className:"btn normal",themeColor:r.themeColor,onChange:()=>p("siren"),selected:"siren"===o},"Siren")))),i.default.createElement("div",{className:"modal-action"},i.default.createElement("div",{className:`button-group rounded full-width ${r.themeColor}`},i.default.createElement(u.default,{themeColor:r.themeColor,onClick:()=>{t(c.formationAction(c.FormationAction.New,{formationName:n,formationType:o},a)),e({modal:"",isOpen:!1})}},"Create"),i.default.createElement(u.default,{themeColor:r.themeColor,onClick:()=>e({modal:"",isOpen:!1})},"Cancel"))))}},805:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(216),d=o(a(1105)),u=a(258);t.default=({setModalOpen:e})=>{const t=s.useDispatch(),a=s.useSelector((e=>e.config)),[r,n]=i.useState(""),[l,o]=i.useState(!1);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"modal-title"},"Rename formation"),i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",null,i.default.createElement("div",{id:"input-group",className:`${a.themeColor} ${l?"input-focus":""}`},i.default.createElement("input",{id:"name-input",autoFocus:!0,type:"text",spellCheck:"false",className:`${a.themeColor}`,placeholder:"Formation name",value:r,onChange:e=>{n(e.target.value)},onFocus:e=>{o(!0),e.target.select()},onBlur:()=>o(!1),onKeyUp:a=>{"Enter"===a.key&&(t(c.formationAction(c.FormationAction.Rename,{formationName:r})),e({modal:"",isOpen:!1}))}}),r.length>0?i.default.createElement(d.default,{themeColor:a.themeColor,className:"btn input",onClick:()=>{n("")}},i.default.createElement(u.CloseIcon,{themeColor:a.themeColor,className:"icon"})):i.default.createElement(i.default.Fragment,null)))),i.default.createElement("div",{className:"modal-action"},i.default.createElement("div",{className:`button-group rounded full-width ${a.themeColor}`},i.default.createElement(d.default,{themeColor:a.themeColor,onClick:()=>{t(c.formationAction(c.FormationAction.Rename,{formationName:r})),e({modal:"",isOpen:!1})}},"Rename"),i.default.createElement(d.default,{themeColor:a.themeColor,onClick:()=>e({modal:"",isOpen:!1})},"Cancel"))))}},1821:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(7294)),l=a(1825),o=r(a(1480)),i=r(a(3622));t.default=({children:e})=>{const t=l.useSelector((e=>e.config));return n.default.createElement(n.default.Fragment,null,n.default.createElement(o.default,{showMenu:!0}),n.default.createElement("div",{className:`page ${t.themeColor}`},e),n.default.createElement(i.default,null))}},5690:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(7294));t.default=n.default.memo((({optionalName:e,skills:t,hullType:a})=>n.default.createElement(n.default.Fragment,null,void 0!==t?t?.map(((r,l)=>n.default.createElement("div",{key:`${r.names.en}-${l*t.length}`,className:`f-row passive-item ${r.color}`},n.default.createElement("div",{className:`grid-item name ${a||""}`},void 0!==e?e:r.names.en),n.default.createElement("div",{className:"grid-item passive"},r.description)))):n.default.createElement(n.default.Fragment,null))))},1105:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(a(7294)),i=o.default.memo((({className:e="btn normal",children:t,themeColor:a="",onClick:r,onRightClick:n,disabled:l,extraStyle:i,id:s,role:c,dragProps:d})=>{const[u,m]=o.useState(!1);return o.default.createElement("button",{role:c,id:s,onKeyUp:e=>{"Tab"===e.key&&m(!0)},onMouseUp:()=>{u&&m(!1)},onContextMenu:n,type:"button",className:`${e} ${a}${u?"":" no-focus-outline"}`,onClick:r,disabled:l,style:i,...d?.dragFunctions,...d?.dragOptions,...d?.data},t)}));t.default=i},1578:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=o(a(4801)),c=i.default.memo((({id:e,value:t,className:a="btn normal",children:r,themeColor:n,onChange:l,selected:o,extraStyle:c,tooltip:d})=>{const[u,m]=i.useState(!1);return i.default.createElement(i.default.Fragment,null,(f=i.default.createElement(i.default.Fragment,null,r,i.default.createElement("input",{id:`${e}-input`,value:t,type:"radio",checked:o,onChange:l,onClick:e=>{const{clientX:t,clientY:a}=e;m(0===t||0===a)},onKeyUp:e=>{"Tab"!==e.key&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||m(!0)}})),d?i.default.createElement(s.default,{data:d.data,wrapperClassNames:`${a} ${n}${o?" selected":""} ${u?"":"no-focus-outline"}`,WrapperElement:"label",extraProps:{htmlFor:`${e}-input`,style:c}},i.default.createElement("span",{style:{display:"inline-block"}},f)):i.default.createElement("label",{className:`${a} ${n}${o?" selected":""} ${u?"":"no-focus-outline"}`,htmlFor:`${e}-input`,style:c},i.default.createElement("span",{style:{display:"inline-block"}},f))));var f}));t.default=c},9058:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(7243),d=a(2014),u=a(8957),m=o(a(1105));t.default=({themeColor:e})=>{const t=s.useDispatch(),{shipData:a}=i.useContext(u.AppContext),r=s.useSelector((e=>e.searchParameters)),n=s.useSelector((e=>e.appState)),l=i.useCallback(((e,a,r)=>()=>{t(d.updateSearch(e,a,r))}),[t]);return i.default.createElement("div",{id:"search-categories",className:`${e}`},i.default.createElement("div",{className:"f-grid",style:{marginBottom:"0px"}},i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item toggle"},i.default.createElement(m.default,{className:"btn small "+(r.nationality.All?"selected":""),themeColor:e,onClick:()=>{r.nationality.All||l(a,d.SearchAction.ToggleAll,{name:"",cat:"nationality",param:"",list:n.cToggle,id:""})}},"All")),Object.keys(c.nationCategories).map((t=>i.default.createElement("div",{className:"grid-item toggle",key:t},i.default.createElement(m.default,{className:"btn small "+(r.nationality[t]?"selected":""),themeColor:e,onClick:l(a,d.SearchAction.ToggleParameter,{name:"",cat:"nationality",param:t,list:n.cToggle,id:""})},c.nationCategories[t]))))),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item toggle"},i.default.createElement(m.default,{className:"btn small "+(r.hullType.All?"selected":""),themeColor:e,onClick:()=>{r.hullType.All||l(a,d.SearchAction.ToggleAll,{name:"",cat:"hullType",param:"",list:n.cToggle,id:""})}},"All")),Object.keys(r.hullType).slice(1).map((t=>i.default.createElement("div",{className:"grid-item toggle",key:t},i.default.createElement(m.default,{className:"btn small "+(r.hullType[t]?"selected":""),themeColor:e,onClick:l(a,d.SearchAction.ToggleParameter,{name:"",cat:"hullType",param:t,list:n.cToggle,id:""})},c.hullTypesAbb[t]))))),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item toggle"},i.default.createElement(m.default,{className:"btn small "+(r.rarity.All?"selected":""),themeColor:e,onClick:()=>{r.rarity.All||l(a,d.SearchAction.ToggleAll,{name:"",cat:"rarity",param:"",list:n.cToggle,id:""})}},"All")),c.rarityCategories.map((t=>i.default.createElement("div",{className:"grid-item toggle",key:t},i.default.createElement(m.default,{className:"btn small "+(r.rarity[t]?"selected":""),themeColor:e,onClick:l(a,d.SearchAction.ToggleParameter,{name:"",cat:"rarity",param:t,list:n.cToggle,id:""})},t)))))))}},8493:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=o(a(1821)),c=o(a(8272)),d=a(1825),u=o(a(6229)),m=o(a(4032)),f=o(a(1105)),p=a(258),h=o(a(3379));t.default=()=>{const e=d.useSelector((e=>e.appState)),t=d.useSelector((e=>e.ownedSearchList)),a=d.useSelector((e=>e.shipSearchList)),r=(d.useSelector((e=>e.searchParameters)),d.useSelector((e=>e.config))),n=i.useRef(null),[l,o]=h.default(),g=e=>{"top"===e&&o&&o.current&&o.current.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"}),"ship"===e&&n&&n.current&&n.current.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})};return i.default.createElement(s.default,null,i.default.createElement("div",{id:"ships",className:"scroll container content"},"INIT"===e.cState?i.default.createElement("div",{id:"ship-details-content"},i.default.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center"}},i.default.createElement("div",{className:`message-container ${r.themeColor}`,style:{alignSelf:"center",width:"50%",minHeight:"40px"}},i.default.createElement("span",{className:"message",style:{fontSize:"24px",justifyContent:"center"}},e.cState)))):i.default.createElement(i.default.Fragment,null,i.default.createElement(u.default,{refer:o},i.default.createElement(m.default,{shipSearchList:a,listName:"ALL",scrollTo:()=>g("ship")}),i.default.createElement(m.default,{shipSearchList:t,listName:"OWNED",scrollTo:()=>g("ship")})),i.default.createElement("div",{id:"small-nav",className:`navigation ${r.themeColor}${l?" small-hidden":""}`},i.default.createElement(f.default,{themeColor:r.themeColor,className:"nav-item",onClick:()=>g("top"),extraStyle:{display:"flex",padding:"6px",marginTop:"4px",borderRadius:"inherit"}},i.default.createElement(p.ArrowDegUp,{themeColor:r.themeColor}))),i.default.createElement("div",{id:"ship-details-content",ref:n},i.default.createElement(c.default,null)))))}},8272:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=(a(5652),a(250)),d=a(1930),u=a(8957),m=a(2014),f=o(a(5690)),p=o(a(1105)),h=a(258),g=o(a(5897)),v=o(a(2392));t.default=({topButtonGroup:e})=>{const t=s.useDispatch(),{addToast:a,shipData:r,storage:n}=i.useContext(u.AppContext),l=s.useSelector((e=>e.appState)),o=s.useSelector((e=>e.ownedShips)),y=s.useSelector((e=>e.config)),[E,S]=i.useState(),[b,C]=i.useState(!1),w=e=>!!e&&o.some((t=>t===e.id));i.useEffect((()=>{if(l[l.cToggle].isUpdated){const e=r.getShipByIndex(l[l.cToggle].index);S(e),C(w(e))}else t(m.updateSearch(r,m.SearchAction.UpdateList,{list:l.cToggle}))}),[l.cToggle,t,r]),i.useEffect((()=>{const e=r.getShipByIndex(l[l.cToggle].index);S(e),C(w(e))}),[l.ALL,l.OWNED,r]);const N=i.useCallback((()=>{E&&(t(d.addShip(E.id,n)),y.isToast&&a("success","Docks",`${E.names.code} was added to docks.`),C(!0))}),[E,t,n,y.isToast,a]),T=i.useCallback((()=>{E&&(t(d.removeShip(r,E.id,n)),y.isToast&&a("info","Docks",`${E.names.code} removed from docks.`),C(!1))}),[E,t,r,n,y.isToast,a]);return E?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:`ship-title-bar rounded ${y.themeColor}`},i.default.createElement("span",{className:"ship-name"},E.names.code),i.default.createElement("span",{className:E.rarity},` ${"★".repeat(E.stars)}`)),i.default.createElement("div",{className:`button-group start rounded ${y.themeColor}`,style:{marginBottom:"5px"}},e||i.default.createElement(i.default.Fragment,null),i.default.createElement(p.default,{themeColor:y.themeColor,onClick:b?T:N,className:"btn normal icon"},i.default.createElement("div",{className:"btn-icon"},b?i.default.createElement(h.DashIcon,{themeColor:y.themeColor}):i.default.createElement(h.PlusIcon,{themeColor:y.themeColor})),i.default.createElement("span",null,"Docks")),i.default.createElement(p.default,{themeColor:y.themeColor,onClick:async()=>{void 0!==E.wikiUrl&&window.open(E.wikiUrl,"_blank","noopener,noreferrer")},className:"btn normal",disabled:!c.urlValidation(void 0!==E.wikiUrl?E.wikiUrl:"")},"wiki")),i.default.createElement("div",{className:"scroll"},i.default.createElement("div",{className:`f-grid rounded ${y.themeColor}`},i.default.createElement("div",{className:`f-row wrap gap ${y.themeColor}`},i.default.createElement("div",{className:"f-column section",id:"stat-section",style:E.retrofit?{}:{minWidth:"330px"}},i.default.createElement(v.default,{stats:E.stats,themeColor:y.themeColor})),i.default.createElement("div",{className:"f-column section",id:"slot-section",style:{minWidth:"220px"}},i.default.createElement(g.default,{slots:E.slots,hasRetrofit:E.retrofit,themeColor:y.themeColor})))),i.default.createElement("div",{className:`f-grid rounded ${y.themeColor}`},i.default.createElement("div",{className:"f-column section",id:"passive-section"},i.default.createElement("div",{className:`f-row ${y.themeColor}`},i.default.createElement("div",{className:"f-header"},"Passives")),i.default.createElement("div",{className:"f-body"},i.default.createElement(f.default,{skills:E.skills})))))):i.default.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center"}},i.default.createElement("div",{className:`message-container ${y.themeColor}`},i.default.createElement("span",{className:"message"},"No ship selected or found.")))}},4032:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=o(a(1728)),d=a(4356),u=a(578),m=a(8957),f=a(250);t.default=({shipSearchList:e,listName:t,refe:a,scrollTo:r,isDraggable:n=!1})=>{const l=s.useDispatch(),{shipData:o}=i.useContext(m.AppContext),p=s.useSelector((e=>e.config)),h=s.useSelector((e=>e.appState)),g=s.useSelector((e=>e.ownedShips)),v=i.useCallback(((e,t)=>{l(u.setSelectedShip(h.cToggle,e,t)),r&&r()}),[h.cToggle,l,r]),y=e=>e&&e.rarity?e.rarity:"",E=i.useCallback((e=>"OWNED"!==t&&g.includes(e)),[t,g]),S=e=>{e.stopPropagation(),e.preventDefault(),e.currentTarget.classList.remove("dragged"),e.currentTarget&&e.currentTarget.blur()};return i.default.createElement("div",{className:"rList"+(t!==h.cToggle?" hidden":"")},i.default.createElement(c.default,{defaultHeight:a?.current?.scrollHeight-94},(({height:t,width:a})=>i.default.createElement(d.FixedSizeList,{height:t,itemCount:e.length,itemSize:30,width:a,style:{overflowY:"scroll"}},i.default.memo((({index:t,style:a})=>{const r=o.getShips()[e[t].index],l=E(r.id);return i.default.createElement("button",{type:"button",draggable:n,style:{...a,top:a.top+1,height:29,width:"calc(100% - 1px)"},className:`rList-item btn rounded ${p.themeColor} ${l?"owned":""} ${e[t].id===h[h.cToggle].id?"selected":""}`,onClick:()=>v(e[t].id,e[t].index),onDragStart:n?e=>{return(t=e,(e,a)=>{t.stopPropagation(),t.dataTransfer.clearData(),t.dataTransfer.effectAllowed="move";const r=f.getFleet({hullType:a});t.dataTransfer.setData(r,JSON.stringify({"grid-index":"none","ship-id":e,"transfer-type":"insert",hullType:"fleet"})),t.currentTarget.classList.add("dragged")})(r.id,r.hullType||"none");var t}:void 0,onDragEnd:n?S:void 0},i.default.createElement("div",{className:"owned-indicator"}),i.default.createElement("div",{className:`name ${y(r)}`},r.names.en),i.default.createElement("div",{className:`hulltype ${r.hullType||"none"}`},f.getHullTypeAbb(r.hullType)))}))))))}},6229:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(578),d=a(2014),u=a(8957),m=o(a(1578)),f=o(a(1105)),p=a(258),h=o(a(9058)),g=o(a(2937));t.default=({children:e,refer:t=null})=>{const a=s.useDispatch(),{shipData:r}=i.useContext(u.AppContext),n=s.useSelector((e=>e.config)),l=s.useSelector((e=>e.appState)),o=s.useSelector((e=>e.searchParameters)),[v,y]=i.useState(o.name),[E,S]=i.useState(!1);i.useEffect((()=>{const{cToggle:e}=l;"INIT"!==l.cState&&a(d.updateSearch(r,d.SearchAction.UpdateList,{list:e}))}),[l,l.cToggle,a,r]);const b=i.useCallback((e=>{a(c.setCurrentToggle(e))}),[a]);return i.default.createElement("div",{className:"sidebar",ref:t},i.default.createElement("div",{className:"top-container"},i.default.createElement("form",{role:"search"},i.default.createElement("div",{id:"input-group",className:`${n.themeColor} ${E?"input-focus":""}`},i.default.createElement("input",{id:"search-input","aria-label":"search",type:"text",spellCheck:"false",className:`${n.themeColor}`,value:v,onChange:e=>{y(e.target.value),a(d.updateSearch(r,d.SearchAction.SetSearch,{searchString:e.target.value,list:l.cToggle}))},onFocus:e=>{e.target.select(),S(!0)},onBlur:()=>S(!1)}),v.length>0?i.default.createElement(f.default,{className:"btn input",themeColor:n.themeColor,onClick:()=>{y(""),a(d.updateSearch(r,d.SearchAction.SetSearch,{list:l.cToggle,searchString:""}))}},i.default.createElement(p.CloseIcon,{themeColor:n.themeColor,className:"icon"})):i.default.createElement(i.default.Fragment,null))),i.default.createElement(g.default,{themeColor:n.themeColor,isSmallScreen:!0},i.default.createElement(h.default,{themeColor:n.themeColor})),i.default.createElement("div",{className:`radio-group rounded ${n.themeColor}`},i.default.createElement(m.default,{id:"all-toggle",value:"ALL",className:"btn normal",themeColor:n.themeColor,onChange:()=>b("ALL"),selected:"ALL"===l.cToggle},"All"),i.default.createElement(m.default,{id:"owned-toggle",value:"OWNED",className:"btn normal",themeColor:n.themeColor,onChange:()=>b("OWNED"),selected:"OWNED"===l.cToggle},"Owned"))),e)}},5897:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(250),c=o(a(1105)),d=["Base","Retrofit","?"],u=i.default.memo((({slots:e,hasRetrofit:t,themeColor:a})=>{const[r,n]=i.useState(),[l,o]=i.useState();return i.useEffect((()=>{s.parseSlots(e,t).then((e=>{o(e),n(0)})).catch((e=>{o(void 0),n(void 0)}))}),[e]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:`f-row ${a}`},i.default.createElement("div",{className:"f-header"},"Equipment"),t&&l&&void 0!==r?i.default.createElement("div",{className:"f-header tab-group"},l.map(((e,t)=>i.default.createElement(c.default,{key:`btn-${d[t]}`,themeColor:a,className:"tab-btn normal"+(r===t?" selected":""),onClick:()=>n(t)},i.default.createElement("span",{style:{display:"inline-block"}},d[t]))))):i.default.createElement(i.default.Fragment,null)),e&&l&&void 0!==r?l.map(((e,t)=>{const n=Object.values(e),l=[];for(let e=0;e<n.length;e+=1){const a=n[e].length;l.push(n[e].map(((r,n)=>i.default.createElement("div",{key:`${r.str}-${e}`,className:"f-row slot",style:a>1&&n!==a-1?{borderBottom:"0px"}:{}},i.default.createElement("div",{className:"grid-item name"},r.str),i.default.createElement("div",{className:"grid-item eff"},0===t?i.default.createElement(i.default.Fragment,null,`${r.slot.minEfficiency}% / ${r.slot.maxEfficiency}%`):i.default.createElement(i.default.Fragment,null,`${r.slot.minEfficiency}% / ${r.slot.kaiEfficiency}%`))))))}return i.default.createElement("div",{key:"div-"+n.length*t,className:`f-column f-body slots wrap ${a}${r!==t?" hidden":""}`},l)})):i.default.createElement("div",{key:"div-info",className:`f-column f-body slots wrap ${a}`,style:{padding:"3px 5px",textAlign:"center",justifyContent:"center"}},"Unavailable"))}));t.default=u},2392:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(7243),c=a(4180),d=o(a(1105));t.default=({stats:e,themeColor:t})=>{const a=Object.keys(e),r=s.levelOrder.filter((e=>a.includes(e))),[n,l]=i.useState(0);return i.useEffect((()=>{l(0)}),[e]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:`f-row ${t}`},i.default.createElement("div",{className:"f-header"},"Stats"),i.default.createElement("div",{className:"f-header tab-group"},e?r.map(((e,a)=>i.default.createElement(d.default,{key:`btn-${e}`,themeColor:t,className:"tab-btn normal"+(n===a?" selected":""),onClick:()=>l(a)},i.default.createElement("span",{style:{display:"inline-block"}},s.levelCategories[e])))):i.default.createElement(i.default.Fragment,{key:"statlist"}))),e?i.default.createElement("div",{key:"stats",className:`f-body ${t}`},i.default.createElement("table",{className:`f-table ${t}`},i.default.createElement("tbody",{className:"f-table-body"},(t=>{if(t>=r.length)return[];const a=Object.keys(e[r[t]]),n=[];for(let l=0;l<a.length;l+=4){const o=a.slice(l,l+4);n.push(i.default.createElement("tr",{key:`row-${l+4}`,className:"f-table-row"},o.map((a=>{const n=o.length;return c.isStat(a)&&4===n?i.default.createElement("td",{key:`row-${a}`,className:"stat-item"},`${s.statsAbb[a]}: ${e[r[t]][a]}`):c.isStat(a)&&n<4&&n>=1?i.default.createElement(i.default.Fragment,{key:`${r[t]}-${a}`},i.default.createElement("td",{className:"stat-item"},`${s.statsAbb[a]}: ${e[r[t]][a]}`),i.default.createElement("td",{colSpan:4-n,className:"stat-item filler"})):i.default.createElement(i.default.Fragment,null)}))))}return n})(n)))):i.default.createElement(i.default.Fragment,null))}},1480:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(5207),c=a(1825),d=(a(5652),a(4485)),u=a(8957),m=(a(258),o(a(1105))),f=({children:e,pathTo:t,classNames:a="nav-item"})=>{const[r,n]=i.useState(!1);return i.default.createElement(s.NavLink,{className:`${a} ${r?"":"no-focus-outline"}`,to:t,onKeyUp:e=>{"Tab"===e.key&&n(!0)},onMouseDown:()=>{r&&n(!1)},onClick:e=>{const{clientX:t,clientY:a}=e;n(0===t||0===a)}},e)};t.default=({showMenu:e})=>{const t=c.useDispatch(),{storage:a}=i.useContext(u.AppContext),r=c.useSelector((e=>e.config)),[n,l]=i.useState(!1),o=i.useCallback(((e,r)=>{t(d.configAction(d.AppConfigAction.Update,{key:e,value:r,storage:a,doSave:!0}))}),[t,a]);return i.default.createElement("header",{id:"titlebar",className:`${r.themeColor}`},i.default.createElement("div",{id:"drag-region"},i.default.createElement("div",{id:"window-title"},i.default.createElement("span",null,"Formation tool")),e?i.default.createElement("div",{id:"window-menu"},i.default.createElement("nav",{className:`tab navigation ${r.themeColor}`,"aria-label":"primary"},i.default.createElement(f,{pathTo:"/ships"},i.default.createElement("span",null,"Ships")),i.default.createElement(f,{pathTo:"/formations"},i.default.createElement("span",null,"Formations")),i.default.createElement(i.default.Fragment,null))):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:"light"===r.themeColor?{}:{borderBottom:`1px solid var(--main-${r.themeColor}-border)`,boxShadow:"inset 0px -4px 3px -4px #00000099"}})),i.default.createElement("div",{id:"window-filler"}),i.default.createElement("div",{id:"window-controls",className:"web"},i.default.createElement("div",{id:"theme-controls",className:`navigation ${r.themeColor}`},i.default.createElement(m.default,{className:"nav-item "+("dark"===r.themeColor?"selected":""),themeColor:r.themeColor,onClick:()=>o("themeColor","dark"),extraStyle:{backgroundColor:"inherit"}},"D"),i.default.createElement(m.default,{className:"nav-item "+("light"===r.themeColor?"selected":""),themeColor:r.themeColor,onClick:()=>o("themeColor","light"),extraStyle:{backgroundColor:"inherit"}},"L")))))}},7215:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(a(7294)),i=a(8957),s=o.default.memo((({position:e,type:t,label:a,msg:r,toastId:n})=>{const{onToastDismiss:l}=o.useContext(i.AppContext),[s,c]=o.useState({onEntering:!0,onEnter:!1,onExiting:!1,onExit:!1});return o.default.createElement("div",{className:`toast ${t} ${e} ${s.onEntering?"from-right":""} ${s.onExiting?"to-right":""}`,onAnimationEnd:()=>{s.onEntering?c({...s,onEntering:!1,onEnter:!0}):s.onExiting&&l(n)},onClick:()=>{c({...s,onExiting:!0})}},o.default.createElement("div",{className:"toast-right-content"},o.default.createElement("div",{className:"toast-title"},a),o.default.createElement("div",{className:"toast-message"},r)))}));t.default=s},2580:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(a(7294)),s=a(1825),c=a(8957),d=o(a(7215));t.default=({position:e="bottom-center"})=>{const{toasts:t}=i.useContext(c.AppContext),a=s.useSelector((e=>e.config));return i.default.createElement("div",{className:`toast-container ${a.themeColor} ${e}`},t.map((t=>i.default.createElement(d.default,{key:t.id,position:e,type:t.type,label:t.label,msg:t.msg,toastId:t.id}))))}},127:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(a(7294)),i=a(8879),s=a(1825),c=a(8957);t.default=()=>{const{tooltipData:e,show:t,hideTooltip:a}=o.useContext(c.AppContext).tooltip,r=o.useRef(null),n=s.useSelector((e=>e.config));return o.default.createElement("div",{id:"tooltip-container",ref:r},o.default.createElement(i.Overlay,{show:t,offset:[0,12],flip:!0,onHide:()=>a(),placement:"bottom",container:r,target:e.ref,popperConfig:{modifiers:[{name:"arrow",options:{padding:1}}]}},(({props:t,arrowProps:a,placement:r})=>o.default.createElement("div",{className:`tooltip rounded ${n.themeColor}`,...t},o.default.createElement("div",{className:`tooltip-content ${n.themeColor}`},o.default.createElement("div",{className:`f-grid rounded ${n.themeColor}`,style:{marginBottom:"0px"}},o.default.createElement("div",{className:"f-column section"},o.default.createElement("div",{className:"f-row"},o.default.createElement("div",{className:"f-header"},"Help")),o.default.createElement("div",{className:"f-body"},e.data))))))))}},4801:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=l(a(7294)),i=a(8957),s=o.default.memo((({data:e,children:t,wrapperClassNames:a="",WrapperElement:r="div",extraProps:n={}})=>{const{showTooltip:l,hideTooltip:s}=o.useContext(i.AppContext).tooltip,c=o.useRef(null);return o.default.createElement(r,{ref:c,className:a,onMouseEnter:()=>{l({data:e,ref:c})},onMouseLeave:()=>{s()},...n},t)}));t.default=s},7243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelOrder=t.levelCategories=t.statsAbb=t.eqTypes=t.slotTypes=t.hullTypesAbb=t.hullTypes=t.rarityCategories=t.nationCategories=t.fleets=void 0,t.fleets={MAIN:["Battlecruiser","Battleship","Light Aircraft Carrier","Aircraft Carrier","Monitor","Repair","Light Carrier"],VANGUARD:["Destroyer","Light Cruiser","Heavy Cruiser","Large Cruiser"],SUBS:["Submarine"]},t.nationCategories={"Royal Navy":"HMS","Sakura Empire":"IJN","Iron Blood":"KMS","Northern Parliament":"SN","Eagle Union":"USS","Iris Libre":"FFNF","Vichya Dominion":"MNF","Sardegna Empire":"RN",Universal:"UNI",Neptunia:"NEP",Bilibili:"BIL",Utawarerumono:"UTA","Kizuna AI":"KA",Hololive:"HOL"},t.rarityCategories=["Normal","Rare","Elite","Super Rare","Ultra Rare","Unreleased","Priority","Decisive"],t.hullTypes={Destroyer:"Destroyer","Light Cruiser":"Light Cruiser","Southampton subclass":"Light Cruiser","Edinburgh subclass":"Light Cruiser","London subclass":"Heavy Cruiser","Kent subclass":"Heavy Cruiser","Norfolk subclass":"Heavy Cruiser","Heavy Cruiser":"Heavy Cruiser",Battlecruiser:"Battlecruiser",Battleship:"Battleship","Light Carrier":"Light Carrier","Aircraft Carrier":"Aircraft Carrier",Monitor:"Monitor","Ayanami subclass":"Destroyer","Akatsuki subclass":"Destroyer",Repair:"Repair","St. Louis subclass":"Light Cruiser",Submarine:"Submarine","A subclass":"Destroyer","B subclass":"Destroyer","Large Cruiser":"Large Cruiser"},t.hullTypesAbb={Destroyer:"DD","Light Cruiser":"CL","Heavy Cruiser":"CA",Battlecruiser:"BC",Battleship:"BB","Light Carrier":"CVL","Aircraft Carrier":"CV",Monitor:"BM",Repair:"AR",Submarine:"SS","Large Cruiser":"CB"},t.slotTypes={"DD Guns":[["001"]],Torpedoes:[["007"]],"Anti-Air Guns":[["013"]],"BB Guns":[["006"]],"CL Guns":[["002"]],"CA Guns":[["003"]],Fighters:[["009"]],"Dive Bombers":[["010"]],"Torpedo Bombers":[["011"]],Auxiliaries:[["016"]],"Submarine Torpedoes":[["008"]],"CL/DD Guns":[["002","001"]],"Fighters / Dive Bombers (MLB)":[["009","010"]],"CA/CB Guns":[["003","004"]],"CL Guns / Dive Bombers":[["002","010"]],"CL/DD Guns (Seaplanes on retrofit)":[["002","001"],["012"]],"Dive Bombers / Torpedo Bombers (MLB)":[["010","011"]],Seaplanes:[["012"]],"CL Guns / DD Guns (LB2)":[["002","001"]],"Auxiliaries / Cargo":[["016"]],"CA/CL Guns":[["003","002"]],"DD Guns (Fighters on LB1)":[["001","009"]],"Torpedoes / DD Guns (retrofit)":[["007"],["007","001"]],"CL Guns (CA Guns on retrofit)":[["002"],["002","003"]],"CL Guns (DD Guns on retrofit)":[["002"],["002","001"]],"CL Guns / Anti-Air Guns":[["002","013"]],"Fighters / Dive Bombers (LB1) / Torpedo Bombers (LB1)":[["009","010","011"]],"Submarine-mounted 203mm Gun":[["005"]],"CA/283mm CB Gun":[["003","004"]],"Torpedoes (Missiles on retrofit)":[["007"],["019"]],"Fighters / Torpedo Bombers (Dev.10)":[["009","011"]],"Torpedo Bombers / Dive Bombers (Dev.30)":[["011","010"]]},t.eqTypes={"001":"DD Gun","002":"CL Gun","003":"CA Gun","004":"CB Gun","005":"SS Gun","006":"BB Gun","007":"Torpedo","008":"Submarine Torpedo","009":"Fighter","010":"Dive Bomber","011":"Torpedo Bomber","012":"Seaplane","013":"AA Gun","014":"Depth Charge","015":"Sonar","016":"Auxiliary","017":"ASW Bomber","018":"ASW Helicopter","019":"Missile"},t.statsAbb={health:"HP",armor:"AR",reload:"RLD",luck:"LCK",firepower:"FP",torpedo:"TRP",evasion:"EVA",speed:"SPD",antiair:"AA",aviation:"AVI",oilConsumption:"Cost",accuracy:"ACC",antisubmarineWarfare:"ASW",oxygen:"OXY",ammunition:"AMO",huntingRange:"ASR"},t.levelCategories={baseStats:"Base",level100:"100",level120:"120",level125:"125",level100Retrofit:"100R",level120Retrofit:"120R",level125Retrofit:"125R"},t.levelOrder=["baseStats","level100","level120","level125","level100Retrofit","level120Retrofit","level125Retrofit"]},3411:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={0:"Quadruple 130mm (Mle 1932)",1:"Single 100mm (Type 88)",2:"Single 102mm (QF Mk V)",3:"Single 120mm (10th Year Type)",4:"Single 120mm (11th Year Type)",5:"Single 120mm (QF Mark IX)",6:"Single 120mm (Type 3)",7:'Single 127mm (5"/38 Mk 21)',8:'Single 127mm (5"/38 Mk 30)',9:"Single 127mm (SK C/34)",10:"Single 127mm (Type 3 Mod B)",11:"Single 130mm (B13 Pattern 1936)",12:"Single 130mm (Mle 1924)",13:"Single 138.6mm (Mle 1927)",14:"Single 138.6mm (Mle 1929)",15:'Single 76mm (3"/50 caliber gun)',16:'Triple 102mm (BL 4" Mk IX)',17:"Twin 100mm (Type 98)",18:"Twin 102mm (QF Mk XVI)",19:"Twin 102mm (QF Mk XVI*)",20:"Twin 114mm (QF Mk IV Prototype)",21:"Twin 120mm (Model 1926)",22:"Twin 120mm (Model 1933)",23:"Twin 120mm (Model 1936)",24:"Twin 120mm (QF Mark XI)",25:"Twin 120mm (QF Mark XII)",26:'Twin 127mm (5"/38 Mk 32)',27:'Twin 127mm (5"/38 Mk 38)',28:"Twin 127mm (KM40)",29:"Twin 127mm (Type 3 Mod B)",30:"Twin 127mm (Type 3)",31:"Twin 128mm (SK C/41)",32:"Twin 128mm/45 SK C/41",33:"Twin 130mm (B-2LM)",34:"Twin 130mm (Mle 1935)",35:"Twin 134mm (QF Mark II)",36:"Single 140mm (3rd Year Type)",37:'Single 150mm (6"/47 caliber gun)',38:"Single 150mm (SK C/28)",39:"Single 150mm (TbtsK C/36)",40:"Single 152mm (41st Year Type)",41:'Single 152mm (6"/45 Pattern 1892)',42:'Single 152mm (BL 6" Mk XII)',43:"Single 155mm (Mle 1920)",44:"Triple 150mm (SK C/25)",45:'Triple 152mm (6"/47 Mk 16)',46:'Triple 152mm (6"/47 Mk 16) Mod 1',47:'Triple 152mm (6"/47 Mk 17 DP Prototype)',48:'Triple 152mm (BL 6" Mk XXIII)',49:'Triple 152mm (BL 6" Mk XXV Prototype)',50:"Triple 152mm (MK-5)",51:"Triple 152mm (Mle 1930)",52:"Triple 152mm (Model 1934)",53:"Triple 155mm (3rd Year Type)",54:"Triple 180mm (B-1-P Pattern 1932)",55:"Twin 140mm (3rd Year Type)",56:"Twin 150mm (SK C/28)",57:"Twin 150mm (TbtsK C/36)",58:"Twin 152mm (41st Year Type)",59:'Twin 152mm (6"/53 Mk 15)',60:'Twin 152mm (6"/53 Mk 18)',61:'Twin 152mm (BL 6" Mk XXII)',62:'Twin 152mm (BL 6" Mk XXIII)',63:"Twin 152mm (Pattern 1892)",64:"Twin 155mm (Mle 1920)",65:'Triple 203mm (8"/55 Mk 13)',66:'Triple 203mm (8"/55 Mk 15)',67:'Triple 203mm (8"/55 Mk 15) T0',68:'Triple 203mm (8"/55 Mk 9)',69:"Triple 203mm (BL Mk IX Prototype)",70:"Triple 203mm (Mle 1934 Prototype)",71:"Triple 203mm (SK C/34 Prototype)",72:'Triple 234mm (BL 9.2" Mk XII Prototype)',73:"Triple 283mm (SK C/28)",74:"Triple 310mm (Type 0 Prototype)",75:"Twin 203mm (3rd Year Type No. 2)",76:"Twin 203mm (3rd Year Type No. 3 Prototype)",77:"Twin 203mm (3rd Year Type)",78:'Twin 203mm (BL 8" Mk VIII)',79:"Twin 203mm (Mle 1924 Submarine-mount)",80:"Twin 203mm (Mle 1924)",81:"Twin 203mm (Model 1924)",82:"Twin 203mm (Model 1927)",83:"Twin 203mm (SK C/34)",84:'Twin 234mm (BL 9.2" Mk XII Prototype)',85:"Quadruple 330mm (Mle 1931)",86:'Quadruple 356mm (14"/50 Mark B Prototype)',87:'Quadruple 356mm (BL 14" Mk VII)',88:"Quadruple 380mm (Mle 1935)",89:"Triple 283mm (SK C/34)",90:"Triple 305mm (Pattern 1907)",91:"Triple 305mm (SK C/39 Prototype)",92:"Triple 320mm (Model 1934)",93:'Triple 356mm (14"/50 Mk 11)',94:'Triple 381mm (BL 15" Mk III Prototype)',95:"Triple 381mm (Model 1934)",96:'Triple 406mm (16"/45 Mk 6)',97:'Triple 406mm (16"/50 Mark D Mod 0 Prototype)',98:'Triple 406mm (16"/50 Mk 2)',99:'Triple 406mm (BL 16" Mk I)',100:"Triple 406mm (MK-1)",101:"Triple 406mm (Mle 1938 Prototype)",102:"Triple 410mm (10th Year Type Prototype)",103:"Twin 305mm (41st Year Type)",104:"Twin 356mm (41st Year Type)",105:"Twin 356mm (41st Year Type) Kai",106:'Twin 356mm (BL 14" Mk VII)',107:"Twin 380mm (SK C/34)",108:'Twin 381mm (BL 15" Mk I)',109:'Twin 381mm (BL 15" Mk II)',110:'Twin 406mm (16"/45 Mk 1)',111:'Twin 406mm (16"/45 Mk 5)',112:'Twin 406mm (16"/45 Mk 8)',113:"Twin 406mm (SK C/34 Prototype)",114:"Twin 410mm (3rd Year Type)",115:"Twin 410mm (3rd Year Type) Kai",116:"Twin 410mm (Type 3 Shell)",117:"Twin 457mm (Mark A Prototype)",118:"533mm Quadruple Homing Torpedo Mount",119:"533mm Quadruple Torpedo Mount",120:"533mm Quadruple Torpedo Mount Mk 17",121:"533mm Quadruple Torpedo Mount Mk IX",122:"533mm Quintuple Homing Torpedo Mount",123:"533mm Quintuple Torpedo Mount",124:"533mm Quintuple Torpedo Mount Mk 17",125:"533mm Quintuple Torpedo Mount Mk IX",126:"533mm Triple Homing Torpedo Mount",127:"533mm Triple Torpedo Mount",128:"533mm Triple Torpedo Mount Mk 17",129:"533mm Triple Torpedo Mount Mk IX",130:"550mm Triple Torpedo Launcher",131:"550mm Twin Torpedo Launcher",132:"610mm Quadruple Torpedo Mount",133:"610mm Quadruple Torpedo Mount Kai",134:"610mm Triple Torpedo Mount",135:"610mm Triple Torpedo Mount Kai",136:"610mm Twin Torpedo Mount",137:"Submarine-mounted 550mm 24V Torpedo",138:"Submarine-mounted G7a Torpedo",139:"Submarine-mounted G7e Acoustic Homing Torpedo",140:"Submarine-mounted Mark 12 Torpedo",141:"Submarine-mounted Mark 14 Torpedo",142:"Submarine-mounted Mark 16 Torpedo",143:"Submarine-mounted Mark 18 Torpedo",144:'Submarine-mounted Mark 20S "Bidder" Torpedo',145:"Submarine-mounted Mark 28 Torpedo",146:"Submarine-mounted Mark VIII Torpedo",147:"Submarine-mounted Si 270 Torpedo",148:"Submarine-mounted Type 92 Battery-powered Torpedo",149:"Submarine-mounted Type 92 Battery-powered Torpedo Kai",150:"Submarine-mounted Type 95 Oxygen Torpedo",151:"Submarine-mounted Type 96 Oxygen Torpedo",152:"Arado Ar 197",153:"Brewster F2A Buffalo",154:"Brewster F2A Buffalo (Thach Squadron)",155:"Brewster XF2A-4 Buffalo (Prototype)",156:"Fiat G.50 Freccia",157:"Focke-Wulf Fw 190 A-5 (Carrier-based Prototype)",158:"Gloster Sea Gladiator",159:"Gourdou-Leseurre GL.2",160:"Grumman F4F Wildcat",161:"Grumman F6F Hellcat",162:"Grumman F7F Tigercat",163:"Grumman F8F Bearcat",164:"Grumman XF5F Skyrocket",165:"Hawker Sea Fury",166:"Hawker Sea Hurricane",167:"Kawanishi N1K3-A Shiden Kai 2",168:"Messerschmitt BF-109T",169:"Messerschmitt Me-155A",170:"Mitsubishi A5M Type 96",171:"Mitsubishi A6M2 Zero",172:"Mitsubishi A6M3 Type 0 Model 32",173:"Mitsubishi A6M5 Zero",174:"Mitsubishi A7M Reppuu",175:"Reggiane Re.2001 Falco II",176:"Supermarine Seafang",177:"Supermarine Seafire",178:"Supermarine Seafire FR Mk 47",179:"Vought F4U Corsair",180:"Vought F4U Corsair (VF-17 Squadron)",181:"De Havilland Sea Hornet",182:"Aichi D3A Type 99",183:"Aichi D3A2 Type 99",184:"Blackburn Skua",185:"Curtiss SB2C Helldiver",186:"Curtiss XSB3C (Experimental)",187:"Douglas BTD-1 Destroyer",188:"Douglas SBD Dauntless",189:"Douglas SBD Dauntless (McClusky)",190:"Fairey Barracuda (831 Squadron)",191:"Fairey Firefly",192:"Fairey Fulmar",193:"Heinkel He 50b",194:"Junkers Ju-87C",195:"Yokosuka D4Y Suisei",196:"Yokosuka Suisei Model 12A",197:"Aichi B7A Ryuusei",198:"Arado Ar 195",199:"Blackburn Firebrand",200:"Blackburn Firecrest",201:"Douglas TBD Devastator",202:"Torpedo Squadron 8 (VT-8)",203:"Douglas XTB2D-1 Skypirate",204:"Fairey Albacore",205:"Fairey Barracuda",206:"Fairey Swordfish",207:"Fairey Swordfish (818 Squadron)",208:"Fieseler Fi 167",209:"General Motors TBM Avenger (VT-18 Squadron)",210:"Grumman TBF Avenger",211:"Junkers Ju-87 D-4",212:"Levasseur PL.7",213:"Nakajima B5N Type 97",214:"Nakajima B5N2 Type 97",215:"Nakajima B6N Tenzan",216:"Nakajima B6N2 Tenzan Model 12A",217:"Westland Wyvern",218:"Aichi E16A Zuiun",219:"Aichi M6A Seiran",220:"Kawanishi N1K1 Kyoufuu",221:"Nakajima A6M2-N",222:"Yokosuka Suisei Model 21",223:"Octuple 40mm Pom-Pom",224:"Quadruple 20mm Flakvierling",225:"Quadruple 20mm Oerlikon (Mk 15 Mount)",226:"Quadruple 28mm Chicago Piano",227:"Quadruple 40mm Bofors (Mk 2 Mount)",228:"Quadruple 40mm Pom-Pom",229:"Sextuple 40mm Bofors",230:"Single 102mm AA (QF Mark V)",231:"Single 12.7mm Browning",232:"Single 120mm AA (QF Mark VIII)",233:"Single 20mm Oerlikon",234:"Single 20mm Oerlikon (Mark II)",235:"Single 25mm AA (Type 96)",236:"Single 37mm AA (70-K)",237:"Single 37mm Flak (M42)",238:"Single 76mm AA (3rd Year Type)",239:"Single 76mm AA (Mk 22 Mount)",240:"Single 76mm AA (Mk 26 Mount)",241:"Single 80mm AA (Type 98)",242:"Single 90mm AA (Model 1939)",243:"Triple 25mm AA (Type 96 Blast Shield)",244:"Triple 25mm AA (Type 96)",245:"Twin 100mm AA (B-54)",246:"Twin 100mm AA (MZ-14)",247:"Twin 100mm AA (Mle 1931)",248:"Twin 100mm AA (SM-5-1s)",249:"Twin 100mm AA (Type 98)",250:"Twin 105mm AA (SK C/33 na)",251:"Twin 105mm AA (SK C/33)",252:"Twin 113mm AA (QF Mark I)",253:"Twin 127mm AA (Type 89 A1 Mod 2)",254:"Twin 127mm AA (Type 89)",255:"Twin 134mm AA (QF Mark I)",256:"Twin 20mm Oerlikon",257:"Twin 25mm AA (Type 96)",258:"Twin 37mm AA (Model 1932)",259:"Twin 37mm AA (SK C/30)",260:"Twin 37mm ACAD (Mle 1936)",261:"Twin 37mm Flak (M43)",262:"Twin 40mm Bofors (Mk 1 Mount)",263:"Twin 40mm Bofors (RP Mark I)",264:"Twin 40mm Bofors (Type 5)",265:"Twin 40mm Bofors Hazemeyer",266:"Twin 40mm Bofors STAAG",267:"Twin 40mm Pom-Pom",268:"Twin 40mm Vickers (Type 91)",269:"Twin 76mm AA (Mk 27 Mount)",270:"Twin 88mm AA (SK C/32)",271:"Basic Depth Charge",272:"Basic Sonar",273:"Consolidated PBY-5A Catalina",274:"Corn Lantern",275:"Fairey Swordfish Mk II-ASV (ASW)",276:"Flettner Fl 282 Kolibri",277:"General Motors TBM-3 Avenger (ASW)",278:"Hedgehog",279:"Improved Depth Charge",280:"Improved Sonar",281:'Triple 406mm (16"/50 Mk 7)',282:"Twin 114mm (QF Mk IV)",283:'Triple 203mm (8"/55 Mk 15 SHS)',284:"Triple 406mm (Model 1940 Prototype)",285:"Messerschmitt Bf 109G (Carrier-based Prototype)",286:"Nakajima J5N Tenrai (Dive Bomber Prototype)",287:"Nakajima C6N Saiun (Model 21 Prototype)",288:"Twin 90mm AA (Model 1939 Prototype)",289:"610mm Quintuple Torpedo Mount",290:"Twin 203mm (Mle 1931)",291:"Triple 155mm (3rd Year Type) Kai",292:"Twin 150mm (SK C/28 Prototype)",293:'Twin 406mm (16"/56 Mk 4 Prototype)',294:"Submarine-mounted Type 95 Kai Pure Oxygen Torpedo",295:"FBA 19",296:"SY-1 Missile",297:"Triple 305mm (B-50)"}},5079:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDragAndDrop=void 0;const r=a(7294);function n(e,t){switch(t.type){case"setDropDepth":return{...e,dropDepth:t.payload};case"setInDropZone":return{...e,inDropZone:t.payload};default:return e}}t.useDragAndDrop=({dataKeys:e=[],baseKey:t,overKey:a,classNames:l={dragOverClass:"drag-over",draggedClass:"dragged",dragOverInvalidClass:"drag-over-invalid"},isValidDropZone:o})=>{const[i,s]=r.useState({isDragged:!1,isTransferOk:!1}),c=r.useRef({start:{},end:{}}),[d,u]=r.useReducer(n,{dropDepth:0,inDropZone:!1});return{dragFunctions:{onDrop:a=>{a.stopPropagation(),a.preventDefault();const r=JSON.parse(a.dataTransfer.getData(t)),n=e.reduce(((e,t)=>Object.assign(e,{[t]:a.currentTarget.getAttribute(t)})),{});a.currentTarget.classList.remove(l.dragOverClass),u({type:"setDropDepth",payload:0}),u({type:"setInDropZone",payload:!1}),c.current={start:r,end:n},s({...i,isTransferOk:!0})},onDragEnd:e=>{e.stopPropagation(),e.preventDefault(),e.currentTarget.classList.remove(l.draggedClass),s({...i,isDragged:!1}),e.currentTarget.parentElement&&e.currentTarget.parentElement.blur(),e.currentTarget&&e.currentTarget.blur()},onDragStart:a=>{a.stopPropagation(),a.dataTransfer.clearData(),a.dataTransfer.effectAllowed="move",s({isDragged:!0,isTransferOk:!1});const r=e.reduce(((e,t)=>(e[t]=a.currentTarget.getAttribute(t),e)),{});a.dataTransfer.setData(t,JSON.stringify(r)),a.currentTarget.classList.add(l.draggedClass)},onDragOver:e=>{e.stopPropagation(),e.preventDefault(),d.inDropZone||u({type:"setInDropZone",payload:!0});const t=e.currentTarget.getAttribute(a),r=e.dataTransfer.types[0];o&&o(r,t)||(e.dataTransfer.dropEffect="none")},onDragEnter:e=>{e.stopPropagation(),e.preventDefault();const t=e.dataTransfer.types[0],r=e.currentTarget.getAttribute(a);if(u({type:"setDropDepth",payload:d.dropDepth+1}),o){const a=o(t,r);a&&0===d.dropDepth?t===r&&e.currentTarget.classList.add(l.dragOverClass):a||0!==d.dropDepth||e.currentTarget.classList.add(l.dragOverInvalidClass)}},onDragLeave:e=>{u({type:"setDropDepth",payload:d.dropDepth-1}),d.dropDepth>1||(u({type:"setInDropZone",payload:!1}),e.currentTarget.classList.remove(l.dragOverClass),e.currentTarget.classList.remove(l.dragOverInvalidClass))}},dragStates:i,transferData:c.current}}},5470:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToast=void 0;const r=a(7294);function n(e,t){switch(t.type){case"add":return[...e,{...t.payload}];case"remove":return[...e.filter(((e,a)=>a!==t.index))];case"pop":return[...e.slice(1)];default:throw new Error}}t.useToast=(e,t)=>{const[a,l]=r.useReducer(n,[]),o=r.useRef(),i=r.useCallback((e=>{const t=a.findIndex((t=>t.id===e));if(a[t].callback){const e=a[t].callback;e&&e()}l({type:"remove",index:t})}),[a]),s=r.useCallback((()=>{const e=a[0];if(e.callback){const t=e.callback;t&&t()}l({type:"pop"})}),[a]);return r.useEffect((()=>{const r=window.setInterval((()=>{e&&a.length&&(a[0].isCallback&&i(a[0].id),s())}),t);return o.current=r,()=>{clearInterval(o.current)}}),[a,e,i,t,s]),[(e,t,a,r)=>{const n=Date.now();l({type:"add",payload:{id:n,type:e,label:t,msg:a,isCallback:!!r,callback:r||void 0}})},i,s,a]}},268:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTooltip=void 0;const r=a(7294);t.useTooltip=()=>{const[e,t]=r.useState({data:"",ref:r.useRef(null)}),[a,n]=r.useState(!1);return{show:a,tooltipData:e,showTooltip:r.useCallback((e=>{t(e),n(!0)}),[t]),hideTooltip:()=>n(!1)}}},3379:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(6486),n=a(7294);t.default=function(e=0,t=100){const[a,l]=n.useState(!1),o=n.useRef(null),i=r.throttle((()=>{if(!o.current)return void l(!1);const{top:t}=o.current.getBoundingClientRect();l(t+e>=0&&t-e<=window.innerHeight)}),t);return n.useEffect((()=>(document.addEventListener("scroll",i,!0),()=>document.removeEventListener("scroll",i,!0)))),[a,o]}},3793:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(4634),l=r(a(1061)),o=r(a(1930)),i=r(a(4485)),s=r(a(578)),c=r(a(1942)),d=r(a(216)),u=r(a(2014)),m=n.combineReducers({shipSearchList:l.default,ownedShips:o.default,config:i.default,appState:s.default,ownedSearchList:c.default,formationGrid:d.default,searchParameters:u.default});t.default=m},578:function(e,t,a){"use strict";var r,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateShipData=t.setSelectedShip=t.initShipData=t.initShipLists=t.setVersionData=t.clearErrorMessage=t.setErrorMessage=t.setIsUpdated=t.setShipCount=t.setListValue=t.setCurrentState=t.setCurrentToggle=t.resetList=t.setListState=void 0;const l=a(4634),o=a(1825),i=a(5652),s=a(250),c=n(a(3960)),d=a(5604),u=a(1061),m=a(1942),f=a(1930),p=a(216),h=a(4485),g=n(a(3411)),v={cToggle:"ALL",ALL:{id:"NONE",index:0,isUpdated:!1},OWNED:{id:"NONE",index:0,isUpdated:!1},cState:"INIT",cMsg:"Initializing.",eMsg:"",shipCount:0,isSearchChanged:!1,versions:d.emptyVersionInfo(),isData:!1},y=l.createSlice({name:"appStateSlice",initialState:v,reducers:{setListState:(e,t)=>({...e,[t.payload.key]:t.payload.data}),setListValue:(e,t)=>({...e,[t.payload.key]:t.payload.value}),setCurrentToggle:(e,t)=>({...e,cToggle:t.payload}),setCurrentState(e,t){const{cState:a,cMsg:r}=t.payload;return{...e,cState:a,cMsg:r}},setErrorMessage(e,t){const{cState:a,eMsg:r}=t.payload;return{...e,cState:a,eMsg:r}},clearErrorMessage:e=>({...e,eMsg:""}),resetList:()=>v,setShipCount:(e,t)=>({...e,shipCount:t.payload}),setIsUpdated(e,t){const{key:a,value:r}=t.payload;return{...e,[a]:{...e[a],isUpdated:r}}},setVersionData(e,t){const a=t.payload;return{...e,versions:{...e.versions,...a}}}}});r=y.actions,t.setListState=r.setListState,t.resetList=r.resetList,t.setCurrentToggle=r.setCurrentToggle,t.setCurrentState=r.setCurrentState,t.setListValue=r.setListValue,t.setShipCount=r.setShipCount,t.setIsUpdated=r.setIsUpdated,t.setErrorMessage=r.setErrorMessage,t.clearErrorMessage=r.clearErrorMessage,t.setVersionData=r.setVersionData,t.initShipLists=(e,a,r,n)=>(l,i)=>{let s=[],d=[],g="NONE",v=0,y="NONE",E=0;const S=i().config;try{s=c.default.transformShipList(a.getShips()),void 0!==d&&(d=c.default.transformStringList(a.getShips(),e)),g=s.length>0?s[0].id:"NONE",v=s.length>0?s[0].index:NaN,y=d.length>0?d[0].id:"NONE",E=d.length>0?d[0].index:NaN,o.batch((()=>{l(u.setSearchList(s)),l(m.setOwnedSearchList(d)),l(f.setOwnedList(e)),l(t.setListState({key:"ALL",data:{id:g,index:v,isUpdated:!0}})),l(t.setListState({key:"OWNED",data:{id:y,index:E,isUpdated:!0}}))})),l(null!==r?h.setConfig(r):h.setConfig(S)),l(p.setFormationsData(n)),l(t.setShipCount(s.length)),l(t.setListValue({key:"isData",value:!0})),l(t.setCurrentState({cState:"RUNNING",cMsg:"Running."}))}catch(e){l(t.setErrorMessage({cState:"ERROR",eMsg:"Unable to initialize ship lists."}))}},t.initShipData=(e,a,r)=>async(n,l)=>{const{cState:o}=l().appState;try{let l={isOk:!1,msg:"",code:""};if("INIT"===o&&"electron"===a&&(l=await i.checkResource(),"ResNotFound"===l.code)){if(n(t.setCurrentState({cState:"DOWNLOADING",cMsg:"Downloading"})),l=await s.downloadShipData(a),!l.isOk)throw new Error(l.msg);n(t.setCurrentState({cState:"INIT",cMsg:"Initializing."}))}if("INIT"===o&&"web"===a){if(!r)throw new Error("Storage was not found.");const e=await r.getItem("timeOfUpdateCheck"),o=s.elapsedSinceUpdate(e),i=await r.getItem("shipData"),c=await r.getItem("versionInfo"),d=await r.getItem("eqData");if(null===i||null===c||null===e||null===d){if(n(t.setCurrentState({cState:"DOWNLOADING",cMsg:"Downloading"})),l=await s.downloadShipData(a,r),!l.isOk)throw new Error(l.msg);n(t.setCurrentState({cState:"INIT",cMsg:"Initializing."}))}else if(o>=7){const e=await s.compareVersion(c);if(await r.setItem("timeOfUpdateCheck",Date.now()),!e.isOk)throw new Error(e.msg);if(e.isUpdReq){if(n(t.setCurrentState({cState:"DOWNLOADING",cMsg:"Downloading"})),l=await s.downloadShipData(a,r),!l.isOk)throw new Error(l.msg);n(t.setCurrentState({cState:"INIT",cMsg:"Initializing."}))}}}const c=await i.initData(a,r);if("ResNotFound"===c.code)throw new Error("Was not able to retrieve ship data.");if("JSONParseFail"===c.code&&"electron"===a)throw new Error("JSON data structure didn't match. Delete ships.json and equipment.json, and restart application.");if("InitError"===c.code)throw new Error(c.msg);await e.setShips(c.shipData),await e.setEqs(c.eqData),await e.setCustomEqIds(g.default),n(t.setVersionData(c.versionData)),n(t.initShipLists(c.ownedShips,e,c.config,c.formations))}catch(e){e instanceof Error&&n(t.setErrorMessage({cState:"ERROR",eMsg:e.message}))}},t.setSelectedShip=(e,a,r)=>async(n,l)=>{const{appState:o}=l();try{n(t.setListState({key:e,data:{id:a,index:r,isUpdated:o[e].isUpdated}}))}catch(e){n(t.setErrorMessage({cState:"RUNNING",eMsg:"There was a problem with selecting a ship"}))}},t.updateShipData=(e,a)=>async(r,n)=>{r(t.setCurrentState({cState:"DOWNLOADING",cMsg:"Please wait while downloading data."}));const{config:l}=n();try{const n=await s.downloadShipData("web");if(!n.isOk||!n.data)throw new Error("There was a problem updating ship data.");{r(t.setCurrentState({cState:"UPDATING",cMsg:"Please wait while updating app state."}));const a=n.data.shipData,l=n.data.versionInfo,i=n.updateDate;await e.setShips(a);const s=c.default.transformShipList(a),d=s.length>0?s[0].id:"NONE",m=s.length>0?s[0].index:NaN;o.batch((()=>{r(u.setSearchList(s)),r(t.setListState({key:"ALL",data:{id:d,index:m,isUpdated:!1}})),r(t.setShipCount(a.length)),r(h.setUpdateDate(i)),r(t.setVersionData(l))}))}r(t.setCurrentState({cState:"RUNNING",cMsg:"Running."})),l.isToast&&a&&a("success","Update","Update finished succesfully.")}catch(e){r(t.setErrorMessage({cState:"RUNNING",eMsg:"Failed to update ship data."})),l.isToast&&a&&a("warning","Update","Failed to update ship data.")}},t.default=y.reducer},216:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.formationAction=t.convertFormation=t.addEquipmentToShipSlot=t.switchPlacements=t.removeShipFromFormation=t.toggleEdit=t.selectFormation=t.removeFormation=t.addNewFormationData=t.setFormationsData=t.renameFormation=t.resetFormation=t.addShipToFormation=t.SUBMARINE=t.VANGUARDINDEX=t.MAININDEX=t.FormationAction=void 0;const n=a(4634),l=a(5652),o=a(1825),i=a(578),s=a(2014);var c;!function(e){e.New="NEW",e.Remove="REMOVE",e.Rename="RENAME",e.Save="SAVE",e.AddShip="ADDSHIP",e.Insert="INSERT",e.RemoveShip="REMOVESHIP",e.Export="EXPORT",e.Import="IMPORT",e.Search="SEARCH",e.Switch="SWITCH",e.AddEq="ADDEQ",e.Convert="CONVERT"}(c=t.FormationAction||(t.FormationAction={})),t.MAININDEX={2:[0,1,2,6,7,8],3:[0,1,2,6,7,8],4:[0,1,2,6,7,8,12,13,14,18,19,20],5:[0,1,2,6,7,8,12,13,14,18,19,20]},t.VANGUARDINDEX={2:[3,4,5,9,10,11],3:[3,4,5,9,10,11],4:[3,4,5,9,10,11,15,16,17,21,22,23],5:[3,4,5,9,10,11,15,16,17,21,22,23]},t.SUBMARINE={2:[12,13,14],3:[12,13,14],4:[24,25,26],5:[24,25,26]};const d={formations:[],selectedIndex:NaN,isEdit:[]},u=n.createSlice({name:"formationGridSlice",initialState:d,reducers:{addShipToFormation(e,t){const{id:a,shipIndex:r,selectedFleetIndex:n}=t.payload,l=e.formations.map(((e,t)=>{if(t!==n)return e;let l=NaN;const o=e.data.map(((e,t)=>t!==r&&e!==a?e:t!==r&&e===a?(l=t,"N"):a));let i=[];const s=15===e.equipment.length||27===e.equipment.length,c=12===e.equipment.length||24===e.equipment.length;if(s||c)i=e.equipment.map(((e,t)=>t===r?["N","N","N"]:Number.isNaN(l)||t!==l?e:["N","N","N"]));else{i=e.equipment.slice();let t=[];Number.isNaN(l)||(t=i.slice(3*l,3*l+3),i=[...i.slice(0,3*l),...i.slice(3*l,3*l+3).map((()=>"N")),...i.slice(3*l+3)]),i=[...i.slice(0,3*r),...i.slice(3*r,3*r+3).map(((e,a)=>Number.isNaN(l)?"N":t[a])),...i.slice(3*r+3)]}return{...e,data:o,equipment:i}}));return{...e,formations:l,isEdit:e.isEdit.map(((e,t)=>t===n||e))}},resetFormation:()=>d,renameFormation(e,t){const{idx:a,name:r}=t.payload,n=e.formations.map(((e,t)=>t!==a?e:{...e,name:r}));return{...e,formations:n,isEdit:e.isEdit.map(((e,t)=>t===a||e))}},setFormationsData(e,t){const a=t.payload.length,r=Array(a).fill(!1);return{...e,formations:t.payload,selectedIndex:a>=0?0:NaN,isEdit:r}},addNewFormationData(e,t){const a=[...e.formations.slice(),t.payload],r=[...e.isEdit.slice(),!0];return{...e,formations:a,selectedIndex:a.length-1,isEdit:r}},removeFormation(e,t){const a=t.payload,r=e.formations.filter(((e,t)=>t!==a)),n=e.isEdit.filter(((e,t)=>t!==a)),l=r.length;let o=0;return o=0===a&&l>0?0:0!==a&&l>0?a-1:NaN,{...e,formations:r,selectedIndex:o,isEdit:n}},selectFormation:(e,t)=>({...e,selectedIndex:t.payload}),switchPlacements(e,t){const{data:a,fleetIndex:r}=t.payload,n=parseInt(a[0],10),l=parseInt(a[1],10),o=e.formations[r].data.slice();let i=e.formations[r].equipment.slice();const s=15===i.length||27===i.length,c=12===i.length||24===i.length;if(s||c){const e=i[n],t=i[l];i[n]=t,i[l]=e}else{const e=i.slice(3*n,3*n+3),t=i.slice(3*l,3*l+3);i=[...i.slice(0,3*n),...i.slice(3*n,3*n+3).map(((e,a)=>t[a])),...i.slice(3*n+3)],i=[...i.slice(0,3*l),...i.slice(3*l,3*l+3).map(((t,a)=>e[a])),...i.slice(3*l+3)]}const d=o[n],u=o[l];o[n]=u,o[l]=d;const m=e.formations.map(((e,t)=>t!==r?e:{...e,data:o,equipment:i}));return{...e,formations:m,isEdit:e.isEdit.map(((e,t)=>t===r||e))}},toggleEdit(e){const t=e.isEdit.length,a=Array.from({length:t},(()=>!1));return{...e,isEdit:a}},removeShipFromFormation(e,t){const{gridIndex:a,selectedIndex:r}=t.payload;let n=e.formations[r].equipment.slice();15===n.length||27===n.length?n[a]=["N","N","N"]:n=[...n.slice(0,3*a),...n.slice(3*a,3*a+3).map((()=>"N")),...n.slice(3*a+3)];const l=e.formations.map(((e,t)=>t!==r?e:{...e,data:e.data.map(((e,t)=>t!==a?e:"N")),equipment:n}));return{...e,formations:l,isEdit:e.isEdit.map(((e,t)=>t===r||e))}},addEquipmentToShipSlot(e,t){const{formIdx:a,shipIdx:r,slotIdx:n,eqId:l,isOldFormation:o,fleetIdx:i}=t.payload,s=e.formations.map(((e,t)=>t!==a?e:{...e,equipment:e.equipment.map(((e,t)=>{if(o&&"object"==typeof e){if(t===r)return e.map(((e,t)=>t===n?l:e))}else if(t===3*r+n&&!o)return l;return e}))}));return{...e,formations:s,isEdit:e.isEdit.map(((e,t)=>t===i||e))}},convertFormation(e,t){const{formIdx:a,type:r}=t.payload,n=e.formations[a].equipment.slice().flat(),l=e.formations[a].data.slice();"SUB"===r&&(n.push(...Array.from({length:9},(()=>"N")).flat()),l.push(...Array.from({length:3},(()=>"N")).flat()));const o=e.formations.map(((e,t)=>t!==a?e:"SUB"===r?{...e,data:l,equipment:n}:{...e,equipment:n}));return{...e,formations:o,isEdit:e.isEdit.map(((e,t)=>t===a||e))}}}});r=u.actions,t.addShipToFormation=r.addShipToFormation,t.resetFormation=r.resetFormation,t.renameFormation=r.renameFormation,t.setFormationsData=r.setFormationsData,t.addNewFormationData=r.addNewFormationData,t.removeFormation=r.removeFormation,t.selectFormation=r.selectFormation,t.toggleEdit=r.toggleEdit,t.removeShipFromFormation=r.removeShipFromFormation,t.switchPlacements=r.switchPlacements,t.addEquipmentToShipSlot=r.addEquipmentToShipSlot,t.convertFormation=r.convertFormation,t.formationAction=(e,a,r)=>async(n,d)=>{let u={isOk:!1,msg:""};try{const{formationGrid:i,appState:m}=d(),f=i.selectedIndex,p=i.formations.length,{id:h}=m[m.cToggle],g=m.cToggle,v=a.formationName||`Formation ${p}`,y=a.formationType||"normal",E=a.importedFormation,S=a.gridIndex,{storage:b,shipData:C}=a,{eqData:w}=a,N=a.convertType;let T=[],A=[];switch(e){case"NEW":"normal"===y?(T=Array.from({length:15},(()=>"N")),A=Array.from({length:45},(()=>"N"))):(T=Array.from({length:27},(()=>"N")),A=Array.from({length:81},(()=>"N"))),n(t.addNewFormationData({data:T,name:v,equipment:A})),r&&r("info","New formation","New formation was created.");break;case"REMOVE":{const e=i.formations[f].name;o.batch((()=>{n(t.removeFormation(f)),n(t.formationAction(c.Save,{storage:b})),r&&r("info","Formation removal",`${e} was removed.`)}))}break;case"RENAME":n(t.renameFormation({idx:f,name:v}));break;case"SAVE":{const e="web";u=await l.saveFormationData(i.formations,e,b),u.isOk&&n(t.toggleEdit())}break;case"ADDSHIP":void 0!==S&&!Number.isNaN(S)&&C&&o.batch((()=>{n(t.addShipToFormation({id:h,shipIndex:S,selectedFleetIndex:f})),n(s.setFleet({fleet:"ALL"})),n(s.updateSearch(C,s.SearchAction.UpdateList,{list:g}))}));break;case"INSERT":if(a.insertData){const{gridIndex:e,shipID:r}=a.insertData;n(t.addShipToFormation({id:r,shipIndex:e,selectedFleetIndex:f}))}break;case"REMOVESHIP":void 0!==S&&n(t.removeShipFromFormation({gridIndex:S,selectedIndex:f}));break;case"IMPORT":E&&(n(t.addNewFormationData(E)),r&&r("info","Formation import",`${E.name} was imported.`));break;case"SWITCH":a&&a.switchData&&n(t.switchPlacements({data:a.switchData,fleetIndex:f}));break;case"ADDEQ":w&&n(t.addEquipmentToShipSlot(w));break;case"CONVERT":n(t.convertFormation({formIdx:f,type:N}))}}catch(e){let t="";e instanceof Error&&(t=e.message),n(i.setErrorMessage({cState:"RUNNING",eMsg:t}))}},t.default=u.reducer},1942:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setOwnedSearchList=void 0;const r=a(4634).createSlice({name:"ownedSearchListSlice",initialState:[],reducers:{setOwnedSearchList:(e,t)=>t.payload}});t.setOwnedSearchList=r.actions.setOwnedSearchList,t.default=r.reducer},1930:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.removeShip=t.addShip=t.removeShipId=t.setOwnedList=t.addShipId=t.resetList=void 0;const n=a(4634),l=a(5652),o=a(578),i=a(2014),s=[],c=n.createSlice({name:"ownedShipListSlice",initialState:s,reducers:{resetList:()=>s,addShipId:(e,t)=>[...e,t.payload],setOwnedList:(e,t)=>t.payload,removeShipId(e,t){const a=t.payload;return e.filter((e=>e!==a))}}});r=c.actions,t.resetList=r.resetList,t.addShipId=r.addShipId,t.setOwnedList=r.setOwnedList,t.removeShipId=r.removeShipId,t.addShip=(e,a)=>async(r,n)=>{let i={isOk:!1,msg:""};try{const s="web",c=[...n().ownedShips,e];if("electron"===s&&(i=await l.saveOwnedShipData(c)),"web"===s&&a){const e=await a.setItem("ownedShips",c);i.isOk=e.length===c.length}i.isOk&&(r(t.addShipId(e)),r(o.setIsUpdated({key:"OWNED",value:!1})))}catch(e){r(o.setErrorMessage({cState:"ERROR",eMsg:"There was an error with adding ship to docks."}))}},t.removeShip=(e,a,r)=>async(n,s)=>{let c={isOk:!1,msg:""};try{const d="web",u=[...s().ownedShips],{appState:m}=s(),f=u.filter((e=>e!==a));if("electron"===d&&(c=await l.saveOwnedShipData(f)),"web"===d&&r){const e=await r.setItem("ownedShips",f);c.isOk=e.length===f.length}c.isOk&&(n(t.setOwnedList(f)),n(o.setIsUpdated({key:"OWNED",value:!1})),"OWNED"===m.cToggle&&n(i.updateSearch(e,i.SearchAction.UpdateList,{list:"OWNED"})))}catch(e){n(o.setErrorMessage({cState:"ERROR",eMsg:"There was an error with adding ship to docks."}))}},t.default=c.reducer},4485:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.configAction=t.setEditState=t.setConfig=t.resetState=t.setUpdateDate=t.setStateValue=t.AppConfigAction=void 0;const n=a(4634),l=a(5652),o=a(578);var i;(i=t.AppConfigAction||(t.AppConfigAction={})).Save="SAVE",i.Update="UPDATE";const s={jsonURL:"https://raw.githubusercontent.com/AzurAPI/azurapi-js-setup/master/ships.json",themeColor:"dark",firstTime:!0,formHelpTooltip:!0,isToast:!0,updateDate:""},c=n.createSlice({name:"programConfigSlice",initialState:s,reducers:{setStateValue:(e,t)=>({...e,[t.payload.key]:t.payload.value}),setUpdateDate:(e,t)=>({...e,updateDate:t.payload}),setConfig:(e,t)=>({...e,...t.payload,isEdit:!1,firstTime:!1}),setEditState:(e,t)=>({...e,isEdit:t.payload}),resetState:()=>s}});r=c.actions,t.setStateValue=r.setStateValue,t.setUpdateDate=r.setUpdateDate,t.resetState=r.resetState,t.setConfig=r.setConfig,t.setEditState=r.setEditState,t.configAction=(e,a)=>async(r,n)=>{let i={isOk:!1,msg:""};try{const o="web",{config:s}=n(),{storage:c,key:d,value:u}=a;let{isEdit:m,...f}={...s};switch(e){case"UPDATE":if(d&&u&&(f={...f,[d]:u}),"web"===o&&c){const e=await c.setItem("config",f);i.isOk=Object.is(e,f)}"electron"===o&&(i=await l.saveConfig(f)),r(t.setStateValue({key:d,value:u}));break;case"SAVE":if("electron"===o&&(i=await l.saveConfig(f)),"web"===o&&c){const e=await c.setItem("config",f);i.isOk=Object.is(e,f)}}}catch(e){r(o.setErrorMessage({cState:"ERROR",eMsg:"There was an error with a config action."}))}},t.default=c.reducer},2014:function(e,t,a){"use strict";var r,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearch=t.resetToggles=t.setChangeState=t.setSearchString=t.setFleet=t.toggleAll=t.toggleParameter=t.resetParameters=t.SearchAction=void 0;const l=a(4634),o=a(1825),i=a(250),s=n(a(3960)),c=a(578),d=a(1942),u=a(1061);var m;(m=t.SearchAction||(t.SearchAction={})).ToggleParameter="TOGGLEPARAMETER",m.ToggleAll="TOGGLEALL",m.SetSearch="SETSEARCH",m.UpdateList="UPDATE";const f={All:!0,Destroyer:!1,"Light Cruiser":!1,"Heavy Cruiser":!1,Battlecruiser:!1,Battleship:!1,"Light Carrier":!1,"Aircraft Carrier":!1,Monitor:!1,Repair:!1,Submarine:!1,"Large Cruiser":!1},p={All:!0,Battlecruiser:!1,Battleship:!1,"Aircraft Carrier":!1,"Light Carrier":!1,Monitor:!1,Repair:!1},h={All:!0,Destroyer:!1,"Light Cruiser":!1,"Heavy Cruiser":!1,"Large Cruiser":!1},g={All:!0,Submarine:!1},v={name:"",hullType:f,nationality:{All:!0,"Sakura Empire":!1,"Eagle Union":!1,"Royal Navy":!1,Ironblood:!1,"Eastern Radiance":!1,"North Union":!1,"Iris Libre":!1,"Vichya Dominion":!1,"Sardegna Empire":!1,Universal:!1,Neptunia:!1,Bilibili:!1,Utawarerumono:!1,KizunaAI:!1,Hololive:!1},rarity:{All:!0,Normal:!1,Rare:!1,Elite:!1,"Super Rare":!1,Unreleased:!1,Priority:!1,Decisive:!1},fleet:"ALL",isChanged:!1},y=l.createSlice({name:"searchParametersSlice",initialState:v,reducers:{toggleParameter(e,t){const{cat:a,param:r}=t.payload,n=e[a][r];return{...e,isChanged:!0,[a]:{...e[a],All:!1,[r]:!n}}},toggleAll(e,t){const a=t.payload,r=e[a].All,n=Object.fromEntries(Object.entries(e[a]).slice().map((([e])=>[e,!1])));return{...e,isChanged:!0,[a]:{...n,All:!r}}},setSearchString:(e,t)=>({...e,name:t.payload,isChanged:!0}),setFleet(e,t){const{fleet:a}=t.payload;let r={};switch(a){case"ALL":r=f;break;case"VANGUARD":r=h;break;case"MAIN":r=p;break;case"SUBMARINE":r=g;break;default:r=f}return{...e,fleet:a,hullType:r,isChanged:!0}},setChangeState:(e,t)=>({...e,isChanged:t.payload}),resetParameters:()=>v,resetToggles(e){const{fleet:t,name:a}=e;let r={};switch(t){case"ALL":r=f;break;case"VANGUARD":r=h;break;case"MAIN":r=p;break;case"SUBMARINE":r=g;break;default:r=f}return{...v,fleet:t,hullType:r,name:a,isChanged:!0}}}});r=y.actions,t.resetParameters=r.resetParameters,t.toggleParameter=r.toggleParameter,t.toggleAll=r.toggleAll,t.setFleet=r.setFleet,t.setSearchString=r.setSearchString,t.setChangeState=r.setChangeState,t.resetToggles=r.resetToggles,t.updateSearch=(e,a,r={list:"ALL",searchString:"",cat:"",param:"",id:""})=>async(n,l)=>{try{const m=l().searchParameters,{searchString:f,cat:p,param:h,list:g}=r;switch(a){case"TOGGLEPARAMETER":{let e=!1,a={};if(!i.isBooleanObj(m[p]))return void n(c.setErrorMessage({cState:"RUNNING",eMsg:"Failed to toggle parameter. Problem with parameter object."}));a=m[p],e=a[h];const r=Object.keys(a).reduce(((e,t)=>a[t]?e+1:e),0);n(e&&1===r?t.toggleAll(p):t.toggleParameter({cat:p,param:h}));break}case"TOGGLEALL":n(t.toggleAll(p));break;case"SETSEARCH":n(t.setSearchString(f))}const{searchParameters:v,ownedShips:y,appState:E}=l(),S=E[g];if(v.isChanged||!E[g].isUpdated){let r=[],l=[];"ALL"===g&&(r=await e.getShipsByParams(v)),"OWNED"===g&&(l=s.default.transformStringList(e.getShips(),y),l=await s.default.reduceByParams(e,l,v));const i=r.length,m=l.length;o.batch((()=>{if("ALL"===E.cToggle&&"ALL"===g){const e=r.find((e=>e.id===S.id))||r[0];n(0!==i?c.setListState({key:"ALL",data:{id:e.id,index:e.index,isUpdated:!0}}):c.setListState({key:"ALL",data:{id:"NONE",index:NaN,isUpdated:!0}}))}else if("OWNED"===E.cToggle&&"OWNED"===g){const e=l.find((e=>e.id===S.id))||l[0];n(0!==m?c.setListState({key:"OWNED",data:{id:e.id,index:e.index,isUpdated:!0}}):c.setListState({key:"OWNED",data:{id:"NONE",index:NaN,isUpdated:!0}}))}"UPDATE"!==a&&n("ALL"===g?c.setIsUpdated({key:"OWNED",value:!1}):c.setIsUpdated({key:"ALL",value:!1})),"ALL"===g&&n(u.setSearchList(r)),"OWNED"===g&&n(d.setOwnedSearchList(l))})),n(t.setChangeState(!1))}}catch(e){n(c.setErrorMessage({cState:"ERROR",eMsg:"There was an error with performing search update."}))}},t.default=y.reducer},1061:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.resetSearchList=t.setSearchList=void 0;const n=a(4634),l=[],o=n.createSlice({name:"shipListSlice",initialState:l,reducers:{setSearchList:(e,t)=>t.payload,resetSearchList:()=>l}});r=o.actions,t.setSearchList=r.setSearchList,t.resetSearchList=r.resetSearchList,t.default=o.reducer},1464:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(4634),l=r(a(3793)),o=n.configureStore({reducer:l.default});t.default=o},8643:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(a(7294)),l=r(a(3935)),o=a(1825);a(9892),a(4215),a(5670),a(4611),a(455);const i=r(a(1464)),s=r(a(8957));l.default.render(n.default.createElement(n.default.StrictMode,null,n.default.createElement(o.Provider,{store:i.default},n.default.createElement(s.default,null))),document.getElementById("root"))},4180:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStat=void 0,t.isStat=e=>["health","armor","reload","luck","firepower","torpedo","evasion","speed","antiair","aviation","oilConsumption","accuracy","antisubmarineWarfare","oxygen","ammunition","huntingRange"].includes(e)},5604:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyVersionInfo=void 0,t.emptyVersionInfo=()=>({ships:{"version-number":NaN,"last-data-refresh-date":NaN,hash:"","number-of-ships":NaN},equipments:{"version-number":NaN,"last-data-refresh-date":NaN,hash:""},chapters:{"version-number":NaN},barrages:{"version-number":NaN},voicelines:{"version-number":NaN},"version-number":NaN})},250:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getFormationData=t.parseFits=t.parseSlots=t.getFleet=t.getHullTypeAbb=t.compareVersion=t.downloadShipData=t.handleHTTPError=t.fetchWithTimeout=t.encodeFormation=t.parseImportCode=t.safeJsonParse=t.isEquipmentJson=t.isVersionJson=t.isShipJson=t.isBooleanObj=t.elapsedSinceUpdate=t.urlValidation=void 0;const n=a(7243),l=a(216),o=a(5604),i=r(a(9591)),s=a(5652),c="https://raw.githubusercontent.com/AzurAPI/azurapi-js-setup/master/version-info.json";t.urlValidation=e=>void 0!==e&&""!==e&&new RegExp("https?://(www.)?azurlane.koumakan.jp.*","gi").test(e),t.elapsedSinceUpdate=e=>{const t=Date.now()-e;return Math.floor(t/864e5)};const d=e=>45===e||81===e||15===e||27===e||12===e||24===e;t.isBooleanObj=e=>"boolean"==typeof e.All,t.isShipJson=e=>!Object.values(e).some((e=>"string"!=typeof e.id)),t.isVersionJson=e=>void 0!==e.ships&&"number"==typeof e.ships["version-number"];const u=e=>"string"!=typeof e.id;t.isEquipmentJson=e=>!e.some(u);const m=e=>!(!e.data||!e.name)&&e.data instanceof Array&&e.equipment instanceof Array&&!!d(e.equipment.length)&&"string"==typeof e.name;t.safeJsonParse=e=>t=>{try{const a=JSON.parse(t);return!!e(a)&&a}catch(e){return!1}},t.parseImportCode=e=>{try{const a=atob(e).split("").map((e=>e.charCodeAt(0))),r=new Uint8Array(a),n=t.safeJsonParse(m)(i.default.inflate(r,{to:"string"}));return!!n&&{...n}}catch(e){return!1}},t.encodeFormation=e=>{const t=i.default.deflate(JSON.stringify(e));return btoa(String.fromCharCode.apply(null,t))},t.fetchWithTimeout=(e,t)=>{const a=new AbortController,r=fetch(e,{signal:a.signal}),n=setTimeout((()=>a.abort()),t);return r.finally((()=>clearTimeout(n)))},t.handleHTTPError=e=>{if(!e.ok)switch(e.status){case 404:throw new Error("Given URL cannot be found. [404]");default:throw new Error("Something went wrong with retriving data. [default]")}return e},t.downloadShipData=async(e,a)=>{let r=!1,n="";try{let l=[],i=o.emptyVersionInfo(),d=[],u="";return await Promise.all([fetch("https://raw.githubusercontent.com/AzurAPI/azurapi-js-setup/master/ships.json").then(t.handleHTTPError),fetch(c).then(t.handleHTTPError),fetch("https://raw.githubusercontent.com/AzurAPI/azurapi-js-setup/master/equipments.json").then(t.handleHTTPError)]).then((e=>Promise.all(e.map((e=>e.json()))))).then((async t=>{if(l=[...Object.keys(t[0]).map((e=>t[0][e]))],i={...t[1]},d=[...t[2]],"electron"===e){const e=await s.saveData([{data:t[0],fileName:"ships"},{data:t[1],fileName:"version-info"},{data:t[2],fileName:"equipments"}]);e.isOk?(r=!0,u=e.updateDate):(r=!1,n="There was a problem with saving data.")}if("web"===e&&a){const e=await a.setItem("shipData",l),t=await a.setItem("versionInfo",i),o=await a.setItem("timeOfUpdateCheck",Date.now()),s=await a.setItem("eqData",d),c=Object.keys(t).length===Object.keys(i).length;e.length===l.length&&c&&null!==o&&s.length===d.length?r=!0:(r=!1,n="There was a problem with saving data.")}})).catch((e=>{r=!1,n=e.message})),{isOk:r,msg:n,data:{shipData:l,versionInfo:i,eqData:d},updateDate:u}}catch(e){return{isOk:!1,msg:"Failed to download and save ship data."}}},t.compareVersion=async e=>{let a=!1,r="",n=!1;try{return await fetch(c).then(t.handleHTTPError).then((e=>e.json())).then((t=>{const r=t.ships["version-number"],l=t.equipments["version-number"],o=e.ships["version-number"],i=e.equipments["version-number"];n=r>o||l>i,a=!0})).catch((e=>{a=!1,r=e.message})),{isOk:a,msg:r,isUpdReq:n}}catch(e){return{isOk:!1,msg:"Failed to download and check version data.",isUpdReq:n}}},t.getHullTypeAbb=e=>e?n.hullTypesAbb[n.hullTypes[e]]:"none",t.getFleet=e=>{const{hullType:t,index:a,fleetCount:r}=e;if(t){if(n.fleets.MAIN.includes(t))return"main";if(n.fleets.VANGUARD.includes(t))return"vanguard";if(n.fleets.SUBS.includes(t))return"submarine"}if(void 0!==a&&void 0!==r){if(l.MAININDEX[r].includes(a))return"main";if(l.VANGUARDINDEX[r].includes(a))return"vanguard";if(l.SUBMARINE[r].includes(a))return"submarine"}return"none"},t.parseSlots=async(e,t)=>{try{const a={},r={};return Object.keys(e).forEach((t=>{const l=n.slotTypes[e[t].type],o=l[0].map((a=>({str:`${n.eqTypes[a]}`,slot:e[t]})));let i=[];i=l.length>1?l[1].map((a=>({str:`${n.eqTypes[a]}`,slot:e[t]}))):o,a[t]=o,r[t]=i})),t?Promise.resolve([a,r]):Promise.resolve([a])}catch(e){return e instanceof Error?Promise.reject(new Error(e.message)):Promise.reject(new Error("Unable to parse slots data."))}},t.parseFits=(e,t,a=!1,r)=>{const l={},o={};return Object.keys(e).forEach((i=>{const s=n.slotTypes[e[i].type];let c=[];const d=s[0].reduce(((e,a)=>[...e,...t.getEqsByType(n.eqTypes[a])]),[]);c=s.length>1?s[1].reduce(((e,a)=>[...e,...t.getEqsByType(n.eqTypes[a])]),[]):d,r&&a&&s.length>1?l[i]=[...d,...c]:(l[i]=d,o[i]=c)})),r&&!a?[l,o]:[l]},t.getFormationData=async(e,t)=>{try{const r=e.data.length,n=e.equipment.length;let l;if(!d(n))throw new Error("Equipment data structure is not correct.");if(15!==(a=r)&&27!==a&&12!==a&&24!==a)throw new Error("Fleet data structure is not correct.");const o=t.getShips().filter((t=>e.data.includes(t.id))).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{}),i=Math.floor(r/6),s=[],c=[];for(let t=0;t<i;t+=1){const a=e.data.slice(6*t,6*t+6);s.push(a.map((e=>o[e])))}if(12!==r&&24!==r){const t=e.data.slice(-3);s.push(t.map((e=>o[e])))}else s.push([]);if(15===n||27===n||12===n||24===n){l="EQSTRUCTURE";for(let a=0;a<=i;a+=1){const r=e.equipment.slice(6*a,6*a+6),n=[];for(let e=0;e<r.length;e+=1){const a=r[e];n.push(a.map((e=>t.getEqNameByCustomId(e))))}c.push(n)}12!==n&&24!==n||(l="SUB")}else{for(let a=0;a<i;a+=1){const r=e.equipment.slice(6*a*3,6*a*3+18),n=[];for(let e=0;e<r.length;e+=3){const a=r.slice(e,e+3).map((e=>t.getEqNameByCustomId(e)));n.push(a)}c.push(n)}const a=e.equipment.slice(-9),r=[];for(let e=0;e<a.length;e+=3){const n=a.slice(e,e+3);r.push(n.map((e=>t.getEqNameByCustomId(e))))}c.push(r)}return l?Promise.resolve({fleets:s,fleetCount:i,equipment:c,convertAction:l}):Promise.resolve({fleets:s,fleetCount:i,equipment:c})}catch(e){return e instanceof Error?Promise.reject(new Error(e.message)):Promise.reject(new Error("Something went wrong when parsing formation data."))}var a}},3960:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(7243);class n{shipsArr=[];eqArr=[];eqMap={};eqByType={};eqIds={};reverseEqId={};shipCount=0;eqCount=0;state="INIT";constructor(e,t){e&&t?(this.shipsArr=[...e.slice()],this.eqArr=[...t.slice()],this.shipCount=e.length,this.eqCount=t.length):(this.shipsArr=[],this.eqArr=[],this.shipCount=0,this.eqCount=0),this.state="INIT"}getShips(){return this.shipsArr}getEqs(){return this.eqArr}getShipByIndex(e){return this.shipsArr[e]}getEqsByType(e){return Object.keys(this.eqByType).includes(e)?this.eqByType[e]:[]}getEqNameByCustomId(e){return Object.keys(this.eqIds).includes(e)?this.eqMap[this.eqIds[e]].names.en:"-"}getEqCustomId(e){return Object.keys(this.reverseEqId).includes(e)?this.reverseEqId[e]:"-"}async setCustomEqIds(e){try{this.eqIds={...e},this.reverseEqId=Object.fromEntries(Object.entries(e).map((([e,t])=>[t,e])))}catch(e){return Promise.reject(new Error("Failed to set custom IDs data in DataStore."))}return Promise.resolve()}async setShips(e){try{this.shipsArr=[...e.slice()],this.shipCount=e.length}catch(e){return Promise.reject(new Error("Failed to set ship data in DataStore."))}return this.state="READY",Promise.resolve(e)}async setEqs(e){try{this.eqArr=[...e.slice()],this.eqCount=e.length,this.eqByType=Object.values(r.eqTypes).reduce(((e,t)=>Object.assign(e,{[t]:this.eqArr.filter((e=>e.type.name===t))})),{}),this.eqMap=Object.fromEntries(this.eqArr.map((e=>[e.id,e])))}catch(e){return Promise.reject(new Error("Failed to set equipment data in DataStore."))}return this.state="READY",Promise.resolve(e)}async getShipsByParams(e){let t=[];try{t=this.shipsArr.reduce(((t,a,r)=>(n._filterPredicate(e,a)&&t.push({id:a.id,index:r}),t)),[])}catch(e){return Promise.reject(new Error("Failed to get ships by params in DataStore."))}return Promise.resolve(t)}static _filterPredicate(e,t){let a=!1,n=!1,l=!1,o=!1;return a=t.names.en.toLowerCase().includes(e.name.toLowerCase()),t.nationality&&(n=!!e.nationality.All||e.nationality[t.nationality]),(t.hullType&&"ALL"===e.fleet||t.hullType&&"MAIN"===e.fleet&&r.fleets.MAIN.includes(t.hullType)||t.hullType&&"VANGUARD"===e.fleet&&r.fleets.VANGUARD.includes(t.hullType)||t.hullType&&"SUBMARINE"===e.fleet&&r.fleets.SUBS.includes(t.hullType))&&(l=!!e.hullType.All||e.hullType[t.hullType]),t.rarity&&(o=!!e.rarity.All||e.rarity[t.rarity]),a&&n&&l&&o}static transformShipList(e){let t=[];return t=[...e.map(((e,t)=>({id:e.id,index:t})))],t}static transformStringList(e,t){let a=[];return a=[...t.map((t=>({id:t,index:e.findIndex((e=>e.id===t))})))],a}static async reduceByParams(e,t,a){let r=[];try{r=t.reduce(((t,r)=>(n._filterPredicate(a,e.shipsArr[r.index])&&t.push({id:r.id,index:r.index}),t)),[])}catch(e){return Promise.reject(new Error("Failed to reduce by params in DataStore."))}return Promise.resolve(r)}}t.default=n},5652:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initData=t.openWikiUrl=t.saveConfig=t.renameAFormation=t.removeAFormation=t.saveFormationData=t.saveOwnedShipData=t.saveData=t.checkResource=t.openLogs=t.maximizeWindow=t.minimizeWindow=t.restoreWindow=t.closeWindow=void 0;const r=a(5604),n=a(250);t.closeWindow=()=>{window.api.electronIpcSend("close-application")},t.restoreWindow=()=>{window.api.electronIpcSend("restore-application")},t.minimizeWindow=()=>{window.api.electronIpcSend("minimize-application")},t.maximizeWindow=()=>{window.api.electronIpcSend("maximize-application")},t.openLogs=()=>{window.api.electronIpcSend("open-logs")},t.checkResource=async()=>window.api.electronCheckResources("resource-check"),t.saveData=async e=>window.api.electronSaveData("save-data",e).then((e=>e)),t.saveOwnedShipData=async(e=[])=>window.api.electronSaveData("save-owned-ships",e).then((e=>e)),t.saveFormationData=async(e=[],t,a)=>{let r={isOk:!1,msg:"",code:""};if("electron"===t&&(r=await window.api.electronSaveData("save-formation-data",e)),"web"===t&&a){const t=await a.setItem("formations",e);r.isOk=t.length===e.length}return r},t.removeAFormation=async(e=0)=>window.api.electronRemoveAFormation("remove-formation-by-index",e).then((e=>e)),t.renameAFormation=async(e,t)=>window.api.electronRenameFormation("rename-formation-by-index",{idx:e,name:t}).then((e=>e)),t.saveConfig=async e=>window.api.electronSaveData("save-config",e).then((e=>e)),t.openWikiUrl=async e=>n.urlValidation(e)?window.api.electronShell(e):Promise.resolve(),t.initData=async(e,t)=>{if("electron"===e)return window.api.electronInitData("initData").then((e=>e));if("web"===e&&t){const e=await t.getItem("shipData"),a=await t.getItem("config"),r=await t.getItem("ownedShips")||[],n=await t.getItem("formations")||[],l=await t.getItem("versionInfo"),o=await t.getItem("eqData");let i=!1,s="",c="";return null!==e?i=!0:(s="Could not find ship data.",c="ResNotFound"),{shipData:e,config:a,ownedShips:r,formations:n,versionData:l,isOk:i,msg:s,code:c,eqData:o}}return{shipData:[],config:{jsonURL:"",themeColor:"dark",firstTime:!0,formHelpTooltip:!1,isToast:!0,updateDate:""},ownedShips:[],formations:[],isOk:!1,versionData:r.emptyVersionInfo(),msg:"",code:"",eqData:[]}}}},function(e){"use strict";e.O(0,[987],(function(){return 8643,e(e.s=8643)})),e.O()}]);