(self.webpackChunkfazla=self.webpackChunkfazla||[]).push([[401],{4215:function(e,t,a){"use strict";a.r(t)},4611:function(e,t,a){"use strict";a.r(t)},9892:function(e,t,a){"use strict";a.r(t)},5670:function(e,t,a){"use strict";a.r(t)},8957:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppContext=void 0;const i=n(a(7294)),s=a(276),c=a(3727),d=o(a(8493)),u=o(a(3527)),m=o(a(9483)),f=o(a(3960)),p=o(a(1633)),h=o(a(8587)),g=o(a(8321)),v=o(a(2580)),E=a(8266),y=a(4485);t.AppContext=i.default.createContext({});const S=e=>{const{component:t}=e,a=s.useSelector((e=>e.appState));return"ERROR"===a.cState?i.default.createElement(c.Redirect,{to:{pathname:"/error"}}):"INIT"===a.cState?i.default.createElement(c.Redirect,{to:{pathname:"/"}}):i.default.createElement(c.Route,Object.assign({},e,{component:t}))};t.default=()=>{const e=s.useDispatch(),[a,r]=i.useState(new f.default),[l,n,o,b]=E.useToast(!0,3e3),C=m.default.createInstance({name:"Fazla-storage",version:1});return i.useEffect((()=>{if(C)try{(async()=>{const t=await C.getItem("config");null!==t?e(y.setConfig(t)):await C.setItem("config",t)})().catch((e=>console.log(e)))}catch(e){console.log(e)}}),[]),i.default.createElement(c.HashRouter,null,i.default.createElement("div",{className:"App"},i.default.createElement(t.AppContext.Provider,{value:{addToast:l,onToastDismiss:n,popToast:o,toasts:b,shipData:a,setShipData:r,storage:C}},i.default.createElement(c.Switch,null,i.default.createElement(c.Route,{exact:!0,path:"/",render:()=>i.default.createElement(h.default,null)}),i.default.createElement(S,{path:"/shipdetails"},i.default.createElement(d.default,null)),i.default.createElement(S,{path:"/formations"},i.default.createElement(p.default,null)),i.default.createElement(S,{path:"/options"},i.default.createElement(u.default,null)),i.default.createElement(c.Route,{path:"/error"},i.default.createElement(g.default,null))),i.default.createElement(v.default,{position:"bottom-right"}))))}},7021:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=o(a(7015)),c=o(a(5697)),d=o(a(9058)),u=({themeColor:e})=>{const t=i.useRef(null),a=i.useRef(null),[r,l]=i.useState(!1);return i.default.createElement("div",{style:{display:"flex",flexDirection:"column"},ref:a},i.default.createElement("button",{ref:t,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},className:`btn normal ${e}`,type:"button",onClick:()=>{l(!r)}},"Categories"),i.default.createElement(s.default,{show:r,rootClose:!0,offset:[0,10],onHide:()=>l(!1),placement:"bottom",container:a,target:t},(({props:t})=>i.default.createElement("div",Object.assign({className:`popover-container ${e}`},t),i.default.createElement(d.default,{themeColor:e})))))};t.default=u,u.propTypes={themeColor:c.default.string.isRequired}},4055:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294)),n=r(a(5386)),o=r(a(7979)),i=r(a(9752));t.default=({show:e,onToggle:t,drop:a,alignEnd:r,selectedIdx:s,listData:c,themeColor:d,selectIndex:u,onSelect:m})=>l.default.createElement(n.default,{show:e,onToggle:t,drop:a,alignEnd:r,itemSelector:"button:not(:disabled)"},(({props:e})=>l.default.createElement("div",Object.assign({},e,{id:"formation-dropdown",style:{display:"inline-flex"}}),l.default.createElement(i.default,{id:"dropdown-toggle",text:void 0===s||0===c.length?"Formations":c[s],themeColor:d}),l.default.createElement(o.default,{listData:c,themeColor:d,selectedIdx:s,selectIndex:u,onSelect:m}))))},7979:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294)),n=a(355);t.default=({listData:e,themeColor:t,selectedIdx:a,selectIndex:r,onSelect:o})=>{const{show:i,props:s}=n.useDropdownMenu({flip:!0,offset:[0,8]});return l.default.createElement("div",Object.assign({},s,{role:"menu",className:`formation-dropdown-menu ${t}`,style:{opacity:i?"1":"0"}}),void 0!==e?e.map(((e,n)=>l.default.createElement("button",{key:`${e}-${n}-data`,type:"button",style:{display:i?"flex":"none"},className:`btn normal menu-item ${t} ${n===a?"selected":""}`,onClick:()=>{r(n),o(!i)}},l.default.createElement("span",null,e)))):l.default.createElement(l.default.Fragment,null))}},9752:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=o(a(5697)),c=a(355),d=a(258),u=({id:e,text:t,themeColor:a})=>{const r=c.useDropdownToggle(),[l,n]=i.useState(!1);return i.default.createElement("button",Object.assign({type:"button",id:e},r[0],{onClick:e=>{r[1].toggle(r[1].show,e)},className:`dropdown-toggle tab-btn normal ${a} ${l?"":"no-focus-outline"}`,onKeyUp:e=>{"Tab"===e.key&&n(!0)},onMouseUp:()=>{l&&n(!1)}}),i.default.createElement("span",null,t),i.default.createElement("div",{className:"toggle-icon "+(r[1].show?"open":"")},i.default.createElement(d.CaretLeft,{themeColor:a})))};t.default=u,u.propTypes={id:s.default.string.isRequired,text:s.default.string.isRequired,themeColor:s.default.string.isRequired}},9135:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=a(216),d=o(a(4055));t.default=()=>{const e=s.useDispatch(),t=s.useSelector((e=>e.formationGrid)),a=s.useSelector((e=>e.config)),[r,l]=i.useState(!1);return i.default.createElement(d.default,{show:r,onToggle:e=>l(e),drop:"down",alignEnd:!0,selectedIdx:t.selectedIndex,listData:t.formations.map((e=>e.name)),themeColor:a.themeColor,selectIndex:t=>{e(c.selectFormation(t))},onSelect:l})}},8321:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294)),n=a(276),o=a(5652),i=(r(a(3622)),r(a(1105))),s=r(a(1480));t.default=()=>{const e=n.useSelector((e=>e.appState)),t=n.useSelector((e=>e.config));return l.default.createElement(l.default.Fragment,null,l.default.createElement(s.default,{showMenu:!1}),l.default.createElement("div",{className:`page ${t.themeColor}`},l.default.createElement("section",{className:"page-content"},l.default.createElement("div",{className:"ship-data-container dark"},l.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"}},l.default.createElement("div",{className:"info-text"},e.eMsg),l.default.createElement(i.default,{themeColor:t.themeColor,onClick:()=>{o.openLogs(),o.closeWindow()},extraStyle:{marginTop:"30px",height:"50px",width:"20%"}},"Close program"))))),l.default.createElement(l.default.Fragment,null))}},3622:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294)),n=a(276);t.default=()=>{n.useSelector((e=>e.appState));const e=n.useSelector((e=>e.config));return l.default.createElement("div",{id:"footer",className:`${e.themeColor}`},l.default.createElement("div",{id:"footer-state-msg",style:{justifyContent:"flex-end"}},l.default.createElement("span",null,"Code by Rutle")))}},2819:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294));t.default=({themeColor:e,children:t,isTitle:a})=>l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:`f-grid ${e}`},l.default.createElement("div",{className:"f-row wrap"},l.default.createElement("div",{className:"f-column"},a?l.default.createElement("div",{className:"f-row"},l.default.createElement("div",{className:"f-title"},"Main")):l.default.createElement(l.default.Fragment,null),l.default.createElement("div",{className:"f-row"},l.default.Children.toArray(t).slice(0,3))),l.default.createElement("div",{className:"f-column"},a?l.default.createElement("div",{className:"f-row"},l.default.createElement("div",{className:"f-title"},"Vanguard")):l.default.createElement(l.default.Fragment,null),l.default.createElement("div",{className:"f-row"},l.default.Children.toArray(t).slice(3))))))},2528:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(a(7294)),i=a(7294),s=a(276),c=a(216),d=a(7243),u=o.memo((({index:e,ship:t,themeColor:a,onClick:r})=>{const l=s.useDispatch(),n=i.useCallback((t=>{2===t.button&&t.preventDefault(),l(c.formationAction(c.FormationAction.RemoveShip,{gridIndex:e}))}),[l,e]);return o.createElement("div",{className:"grid-item"},o.createElement("div",{tabIndex:0,className:"content",onClick:r,onKeyDown:e=>{"Enter"===e.key&&r()},onContextMenu:e=>n(e)},void 0!==t?o.createElement("div",{className:`hullTypeAbb ${m=t,m&&m.hullType?d.hullTypes[m.hullType]:""}`},`${u=t.hullType,u?d.hullTypesAbb[d.hullTypes[u]]:"-"} ${t.names.en}`):o.createElement("div",{className:"details"},`Add ${(e=>{switch(e){case 1:case 7:case 13:case 19:return"flagship";case 3:case 9:case 15:case 21:return"frontmost";case 5:case 11:case 17:case 23:return"backmost";default:return"ship"}})(e)}`)));var u,m}));t.default=u},4609:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=o(a(5690)),c=a(258);t.default=({themeColor:e,fleet:t})=>{const[a,r]=i.useState(!0),[l,n]=i.useState(!0),o=e=>"main"===e?t.slice(0,3).every((e=>void 0===e)):"vanguard"===e&&t.slice(3,6).every((e=>void 0===e)),d=e=>e?{optionalName:e.names.en,skills:e.skills}:{optionalName:"",skills:void 0};return i.default.createElement("div",{className:`f-grid ${e}`},o("main")?i.default.createElement(i.default.Fragment,null):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"f-row action",onClick:()=>{r(!a)}},i.default.createElement("div",{className:"f-icon plain "+(a?"":"open")},i.default.createElement(c.CaretLeft,{themeColor:e})),i.default.createElement("div",{className:"f-title plain"},"Main")),i.default.createElement("div",{className:"f-collapsible "+(a?"":"f-collapsed")},i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"name f-header"},"Ship"),i.default.createElement("div",{className:"passive f-header"},"Passive")),i.default.createElement(s.default,Object.assign({},d(t[0]))),i.default.createElement(s.default,Object.assign({},d(t[1]))),i.default.createElement(s.default,Object.assign({},d(t[2]))))),o("vanguard")?i.default.createElement(i.default.Fragment,null):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"f-row action",onClick:()=>n(!l)},i.default.createElement("div",{className:"f-icon plain "+(l?"":"f-collapse")},i.default.createElement(c.CaretLeft,{themeColor:e})),i.default.createElement("div",{className:"f-title plain"},"Vanguard")),i.default.createElement("div",{className:"f-collapsible "+(l?"":"f-collapsed")},i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"name f-header"},"Name"),i.default.createElement("div",{className:"passive f-header"},"Passive")),i.default.createElement(s.default,Object.assign({},d(t[3]))),i.default.createElement(s.default,Object.assign({},d(t[4]))),i.default.createElement(s.default,Object.assign({},d(t[5]))))))}},1633:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=o(a(3253)),d=a(8957),u=a(9122),m=a(216),f=o(a(1821)),p=o(a(2819)),h=o(a(4609)),g=o(a(5602)),v=o(a(9135)),E=o(a(2528)),y=o(a(4208)),S=o(a(805)),b=o(a(1105)),C=o(a(8422));c.default.setAppElement("#root"),t.default=()=>{const e=s.useDispatch(),{shipData:t,storage:a}=i.useContext(d.AppContext),r=s.useSelector((e=>e.config)),l=s.useSelector((e=>e.formationGrid)),n=s.useSelector((e=>e.appState)),[o,N]=i.useState({modal:"",isOpen:!1}),[_,O]=i.useState(0),[w,A]=i.useState([]),M=i.useCallback(((t,a,r,l)=>()=>{e(u.formationModalAction(t,a,r,l)),N({modal:"shiplist",isOpen:!0})}),[e]);return i.useEffect((()=>{if(0!==l.formations.length){const e=t.shipsArr.filter((e=>l.formations[l.selectedIndex].data.includes(e.id))).reduce(((e,t)=>Object.assign(e,{[t.id]:t})),{}),a=l.formations[l.selectedIndex].data.length/6,r=[];for(let t=0;t<a;t+=1){const a=l.formations[l.selectedIndex].data.slice(6*t,6*t+6);r.push(a.map((t=>e[t])))}A(r)}}),[l.selectedIndex,l.formations]),i.default.createElement(f.default,null,i.default.createElement("section",{className:"page-content"},i.default.createElement(c.default,{overlayClassName:`modal-overlay ${r.themeColor}`,isOpen:o.isOpen,className:"modal-container "+("shiplist"===o.modal?"ship-select":"formation-action"),onRequestClose:()=>{o.isOpen&&(e(u.formationModalAction(u.FormationModalAction.Close,n.cToggle,0,t)),N({modal:"",isOpen:!1}))}},"shiplist"===o.modal?i.default.createElement(g.default,{setModalOpen:N}):"new"===o.modal?i.default.createElement(y.default,{setModalOpen:N}):"rename"===o.modal?i.default.createElement(S.default,{setModalOpen:N}):"import"===o.modal||"export"===o.modal?i.default.createElement(C.default,{setModalOpen:N,isType:o.modal}):i.default.createElement(i.default.Fragment,null)),i.default.createElement("div",{className:"ship-data-container"},i.default.createElement("div",{className:"tab"},0!==l.formations.length?i.default.createElement(v.default,null):i.default.createElement(i.default.Fragment,null),i.default.createElement(b.default,{themeColor:r.themeColor,className:"tab-btn normal",onClick:()=>N({modal:"new",isOpen:!0})},"New"),0!==l.formations.length?i.default.createElement(i.default.Fragment,null,i.default.createElement(b.default,{themeColor:r.themeColor,className:"tab-btn normal",onClick:()=>e(m.formationAction(m.FormationAction.Remove,{storage:a})),disabled:0===l.formations.length},"Remove"),i.default.createElement(b.default,{themeColor:r.themeColor,className:"tab-btn normal "+(l.isEdit[l.selectedIndex]?"selected":""),onClick:()=>e(m.formationAction(m.FormationAction.Save,{storage:a})),disabled:!l.isEdit[l.selectedIndex]},"Save"),i.default.createElement(b.default,{themeColor:r.themeColor,className:"tab-btn normal",onClick:()=>N({modal:"rename",isOpen:!0})},"Rename"),i.default.createElement(b.default,{themeColor:r.themeColor,className:"tab-btn normal",onClick:()=>N({modal:"export",isOpen:!0})},"Export"),i.default.createElement(b.default,{themeColor:r.themeColor,className:"tab-btn normal",onClick:()=>N({modal:"import",isOpen:!0})},"Import")):i.default.createElement(i.default.Fragment,null)),0!==l.formations.length?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:{marginBottom:"15px",borderBottom:`1px solid var(--main-${r.themeColor}-border)`}},w.map(((e,a)=>i.default.createElement(p.default,{key:"fleet"+a*e.length,themeColor:r.themeColor,isTitle:0===a},e.map(((e,l)=>i.default.createElement(E.default,{key:`${6*a+l}`,index:6*a+l,ship:e,themeColor:r.themeColor,onClick:M(u.FormationModalAction.Open,n.cToggle,6*a+l,t)}))))))),i.default.createElement("div",{className:"tab"},w.map(((e,t)=>i.default.createElement(b.default,{key:"button-"+t*e.length,themeColor:r.themeColor,className:"tab-btn normal"+(_===t?" selected":""),onClick:()=>{O(t)},disabled:0===l.formations.length},`Fleet ${t+1}`)))),i.default.createElement("div",{className:"scroll"},w.map(((e,t)=>i.default.createElement("div",{key:"tab"+e.length*t,className:_!==t?"hidden":""},i.default.createElement(h.default,{key:"passive-"+t*e.length,fleet:e,themeColor:r.themeColor})))))):i.default.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center"}},i.default.createElement("div",{className:`message-container ${r.themeColor}`,style:{alignSelf:"center",width:"50%",minHeight:"40px"}},i.default.createElement("span",{className:"message",style:{fontSize:"24px",justifyContent:"center"}},"No formations."))))))}},3527:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=a(578),d=a(4485),u=a(8957),m=o(a(1821)),f=o(a(1105)),p=o(a(1578));t.default=()=>{const e=s.useDispatch(),{addToast:t,shipData:a,storage:r}=i.useContext(u.AppContext),l=s.useSelector((e=>e.appState)),n=s.useSelector((e=>e.ownedShips)),o=s.useSelector((e=>e.config)),[h,g]=i.useState(l.shipCount),[v,E]=i.useState(n.length),[y,S]=i.useState({count:0,isUpdate:!1});i.useEffect((()=>{E(n.length)}),[n]),i.useEffect((()=>{g(l.shipCount)}),[l.shipCount]);const b=i.useCallback(((t,a)=>{e(d.configAction(d.AppConfigAction.Update,{key:t,value:a}))}),[e]);return i.default.createElement(m.default,null,i.default.createElement("section",{className:"page-content"},i.default.createElement("div",{className:"home-container"},i.default.createElement("div",{className:`f-grid ${o.themeColor}`},i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"f-icon bottom-emp"}),i.default.createElement("div",{className:"f-title bottom-emp"},"Options")),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Update ship data"),i.default.createElement("div",{className:"grid-item action"},(()=>{let n="Update",s=!1;return"RUNNING"!==l.cState&&"INIT"!==l.cState&&(n="Please wait",s=!0),i.default.createElement(f.default,{themeColor:`${o.themeColor}`,onClick:()=>{S({count:a.count,isUpdate:!0}),o.isToast&&t("info","Update","Updating ship information."),e(c.updateShipData(a,r,t))},disabled:s},n)})())),i.default.createElement(i.default.Fragment,null),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Theme color"),i.default.createElement("div",{className:"grid-item action"},i.default.createElement("div",{className:`radio-group ${o.themeColor}`},i.default.createElement(p.default,{id:"dark",value:"dark",themeColor:o.themeColor,onChange:()=>b("themeColor","dark"),selected:"dark"===o.themeColor},"Dark"),i.default.createElement(p.default,{id:"light",value:"light",themeColor:o.themeColor,onChange:()=>b("themeColor","light"),selected:"light"===o.themeColor},"Light")))),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Ship data update date"),i.default.createElement("div",{className:"grid-item action"},""!==o.updateDate?o.updateDate:"N/A")),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name",style:{opacity:o.isEdit?"1":"0.2"}}),i.default.createElement("div",{className:"grid-item action"},i.default.createElement(f.default,{themeColor:`${o.themeColor}`,onClick:()=>e(d.configAction(d.AppConfigAction.Save,{})),disabled:!o.isEdit},"Save changes"))),i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"f-icon bottom-emp"}),i.default.createElement("div",{className:"f-title bottom-emp"},"Stats")),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Ship count"),i.default.createElement("div",{className:"grid-item action"},(()=>{if(y.isUpdate&&"RUNNING"===l.cState){const e=a.count-y.count;return i.default.createElement(i.default.Fragment,null,h," (",i.default.createElement("span",{style:{color:e>=0?"LimeGreen":"firebrick"}},`${e>=0?"+":""}${e}`),")")}return"INIT"===l.cState?"âˆž":("UPDATING"===l.cState||"SAVING"===l.cState||y.isUpdate||l.cState,h)})())),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item name"},"Docks count"),i.default.createElement("div",{className:"grid-item action"},"INIT"===l.cState?"-":v))))))}},258:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CaretLeft=t.RestoreIcon=t.CloseIcon=t.MaxIcon=t.MinIcon=void 0;const l=r(a(7294));t.MinIcon=({themeColor:e})=>l.default.createElement("svg",{width:"10",height:"10","aria-hidden":"true"},l.default.createElement("path",{fill:`var(--main-${e}-color)`,strokeLinecap:"round",stroke:`var(--main-${e}-color)`,strokeWidth:"2",d:"M0 5h10v1H0z"})),t.MaxIcon=({themeColor:e})=>l.default.createElement("svg",{width:"10",height:"10","aria-hidden":"true"},l.default.createElement("path",{strokeLinecap:"round",fill:`var(--main-${e}-color)`,stroke:`var(--main-${e}-color)`,strokeWidth:"2",d:"M0 0v10h10V0zm1 1h8v8H1z"})),t.CloseIcon=({themeColor:e})=>l.default.createElement("svg",{width:"10",height:"10","aria-hidden":"true"},l.default.createElement("path",{strokeLinecap:"round",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`,strokeWidth:"2",d:"M0 0v.7L4.3 5 0 9.3v.7h.7L5 5.7 9.3 10h.7v-.7L5.7 5 10 .7V0h-.7L5 4.3.7 0z"})),t.RestoreIcon=({themeColor:e})=>l.default.createElement("svg",{width:"10",height:"10","aria-hidden":"true"},l.default.createElement("path",{strokeLinecap:"round",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`,strokeWidth:"2",d:"M2 0v2H0v8h8V8h2V0zm1 1h6v6H8V2H3zM1 3h6v6H1z"})),t.CaretLeft=({themeColor:e})=>l.default.createElement("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",stroke:`var(--main-${e}-color)`,fill:`var(--main-${e}-color)`},l.default.createElement("path",{d:"M10 12.796V3.204L4.519 8 10 12.796zm-.659.753l-5.48-4.796a1 1 0 0 1 0-1.506l5.48-4.796A1 1 0 0 1 11 3.204v9.592a1 1 0 0 1-1.659.753z"}))},8587:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=a(7921),d=a(5652),u=a(250),m=a(578),f=o(a(3622)),p=o(a(1105)),h=o(a(1480)),g=a(8957);t.default=()=>{const e=s.useDispatch(),{shipData:t,storage:a}=i.useContext(g.AppContext),r=c.useHistory(),l=s.useSelector((e=>e.appState)),n=s.useSelector((e=>e.config)),[o,v]=i.useState({code:"",msg:""}),[E,y]=i.useState({isDl:!1,isReady:!1,isDataOk:!1,text:"Download"});return i.useEffect((()=>{try{l.cState,"INIT"===l.cState&&(async()=>a?await a.getItem("shipData"):null)().then((async r=>{if(null===r)return void v({code:"ResNotFound",msg:"Ship data missing."});const l=await d.initData(a);if("ResNotFound"!==l.code&&"JSONParseFail"!==l.code){if("InitError"===l.code)throw new Error(l.msg);await t.setArray(l.shipData),e(m.initShipLists(l.ownedShips,t,l.config,l.formations))}else v({code:l.code,msg:l.msg})})).catch((t=>{e(m.setErrorMessage({cState:"ERROR",eMsg:t.message,eState:"ERROR"})),r.push("/error")}))}catch(t){e(m.setErrorMessage({cState:"ERROR",eMsg:"Initialization failed.",eState:"ERROR"})),r.push("/error")}}),[]),i.useEffect((()=>{try{"INIT"===l.cState&&E.isDataOk&&E.isReady&&(async()=>{const a=await d.initData();if("ResNotFound"===a.code||"JSONParseFail"===a.code)return v({code:a.code,msg:a.msg}),void y({isReady:!1,isDl:!1,isDataOk:!1,text:"Download"});if("InitError"===a.code)throw y({isReady:!1,isDl:!1,isDataOk:!1,text:"Download"}),new Error(a.msg);await t.setArray(a.shipData),e(m.initShipLists(a.ownedShips,t,a.config,a.formations))})().catch((t=>{e(m.setErrorMessage({cState:"ERROR",eMsg:t.message,eState:"ERROR"})),r.push("/error")}))}catch(t){e(m.setErrorMessage({cState:"ERROR",eMsg:"Initialization failed.",eState:"ERROR"})),r.push("/error")}}),[l.cState,e,E,r,t]),i.default.createElement(i.default.Fragment,null,i.default.createElement(h.default,{showMenu:!1}),i.default.createElement("div",{className:`page ${n.themeColor}`},i.default.createElement("section",{className:"page-content"},i.default.createElement("div",{className:`ship-data-container ${n.themeColor}`},i.default.createElement("div",{style:{height:"50%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",alignItems:"center"}},"ResNotFound"===o.code||"JSONParseFail"===o.code?i.default.createElement("div",{className:`message-container ${n.themeColor}`,style:{minWidth:"50%"}},i.default.createElement("span",{className:"message"},"ResNotFound"===o.code?E.isReady&&E.isDataOk?"Ship data is ready.":"Ship data needs to be downloaded":"JSONParseFail"===o.code?"Try downloading data again.":""),i.default.createElement(p.default,{themeColor:n.themeColor,className:"btn normal "+(E.isReady&&E.isDataOk?"":"selected"),disabled:E.isDl||E.isReady&&E.isDataOk,onClick:async()=>{y({...E,isDl:!0,text:"Downloading"}),e(m.setCurrentState({cState:"DOWNLOADING",cMsg:"Downloading"})),(await u.downloadShipData(a)).isOk?(y({isReady:!0,isDl:!1,isDataOk:!0,text:"Download finished."}),e(m.setCurrentState({cState:"INIT",cMsg:"Initializing."}))):(y({isReady:!0,isDl:!1,isDataOk:!1,text:"Download failed."}),e(m.setCurrentState({cState:"INIT",cMsg:"Initializing."})))},extraStyle:{height:"inherit",border:`1px solid var(--main-${n.themeColor}-bg)`,borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"}},E.text)):i.default.createElement(i.default.Fragment,null),i.default.createElement("div",{className:`message-container ${n.themeColor}`,style:{minWidth:"50%",minHeight:"40px"}},i.default.createElement("span",{className:"message"},"INIT"===l.cState?"ResNotFound"===o.code?"Initialization waiting ship data.":"JSONParseFail"===o.code?o.msg:"Initializing.":"RUNNING"===l.cState?"Initialization is ready.":"DOWNLOADING"===l.cState?"Waiting for download to finish.":"Waiting for initialization"))),i.default.createElement("div",{style:{height:"50%",width:"100%",justifyContent:"center",display:"flex",alignItems:"flex-start"}},i.default.createElement("div",{className:`button-group ${n.themeColor}`,style:{minWidth:"50%"}},i.default.createElement(p.default,{disabled:"RUNNING"!==l.cState,themeColor:n.themeColor,extraStyle:{height:"40px"},onClick:()=>{r.push("/shipdetails")}},"Continue"),i.default.createElement(i.default.Fragment,null)))))),i.default.createElement(f.default,null))}},8037:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=o(a(3253)),c=a(276),d=o(a(5697)),u=a(5652),m=a(216),f=a(4485),p=o(a(1105));s.default.setAppElement("#root");const h=({setModalOpen:e})=>{const t=c.useDispatch(),a=c.useSelector((e=>e.config)),r=c.useSelector((e=>e.formationGrid));return i.useEffect((()=>{a.isEdit||r.isEdit.some((e=>!1!==e))||u.closeWindow()}),[a.isEdit,r.isEdit]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"modal-title"},"Warning"),i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",null,"There are unsaved changes.")),i.default.createElement("div",{className:"modal-action"},i.default.createElement("div",{className:`button-group ${a.themeColor}`,style:{flexGrow:1}},i.default.createElement(p.default,{themeColor:a.themeColor,onClick:()=>u.closeWindow()},"Exit w/o saving"),i.default.createElement(p.default,{themeColor:a.themeColor,onClick:()=>{r.isEdit.some((e=>!1!==e))&&t(m.formationAction(m.FormationAction.Save,{})),a.isEdit&&t(f.configAction(f.AppConfigAction.Save,{}))}},"Save and exit"),i.default.createElement(p.default,{themeColor:a.themeColor,onClick:()=>e(!1)},"Cancel"))))};t.default=h,h.propTypes={setModalOpen:d.default.func.isRequired}},5602:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=o(a(5697)),d=a(216),u=a(9122),m=o(a(6229)),f=o(a(8272)),p=o(a(1105)),h=o(a(4032)),g=a(8957),v=({setModalOpen:e})=>{const{shipData:t}=i.useContext(g.AppContext),a=s.useDispatch(),r=s.useSelector((e=>e.appState)),l=s.useSelector((e=>e.config)),n=s.useSelector((e=>e.ownedSearchList)),o=s.useSelector((e=>e.shipSearchList));return i.default.createElement(i.default.Fragment,null,i.default.createElement(m.default,null,i.default.createElement(h.default,{shipSearchList:o,listName:"ALL"}),i.default.createElement(h.default,{shipSearchList:n,listName:"OWNED"})),i.default.createElement("div",{className:`ship-data-container ${l.themeColor}`},i.default.createElement(f.default,null),t.shipsArr[r[r.cToggle].index]?i.default.createElement(p.default,{themeColor:l.themeColor,onClick:()=>{switch(r.cToggle){case"ALL":case"OWNED":a(d.formationAction(d.FormationAction.AddShip,{}))}a(u.formationModalAction(u.FormationModalAction.Close,r.cToggle,0,t)),e({modal:"",isOpen:!1})},extraStyle:{marginTop:"5px",height:"50px"}},"Add to formation"):i.default.createElement(i.default.Fragment,null," ")))};t.default=v,v.propTypes={setModalOpen:c.default.func.isRequired}},8422:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=o(a(5697)),d=a(250),u=a(216),m=a(258),f=o(a(1105)),p=({setModalOpen:e,isType:t})=>{const a=s.useDispatch(),r=s.useSelector((e=>e.config)),l=s.useSelector((e=>e.formationGrid)),[n,o]=i.useState(""),[c,p]=i.useState(!1),[h,g]=i.useState(!0),[v,E]=i.useState([]),[y,S]=i.useState(!1),b=i.useRef(null);return i.useEffect((()=>{"export"===t&&o(d.encodeFormation(l.formations[l.selectedIndex].data))}),[l.formations,l.selectedIndex,t]),i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"modal-title"},"export"===t?"Export formation":"import"===t?"Import formation from a code":""),i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",null,i.default.createElement("div",{id:"input-group",className:`${r.themeColor} ${c?"input-focus":""} ${h||0===n.length?"":"is-invalid"}`},"import"===t?i.default.createElement("input",{id:"code-input",type:"text",autoFocus:!0,spellCheck:"false",className:`${r.themeColor}`,placeholder:"Input import code",value:n,onChange:e=>{o(e.target.value);const t=d.parseImportCode(e.target.value);t?(E(t),g(!0)):(E([]),g(!1))},onFocus:e=>{p(!0),e.target.select()},onBlur:()=>p(!1),onKeyUp:t=>{"Enter"===t.key&&(a(u.formationAction(u.FormationAction.Import,{importedFormation:v})),e({modal:"",isOpen:!1}))}}):i.default.createElement("input",{ref:b,id:"code-input",type:"text",spellCheck:"false",className:`${r.themeColor}`,placeholder:"",value:n,readOnly:!0,onKeyUp:t=>{"Enter"===t.key&&(document.execCommand("copy"),e({modal:"",isOpen:!1}))}}),n.length>0?i.default.createElement(f.default,{themeColor:r.themeColor,className:"btn icon",onClick:()=>{o("")}},i.default.createElement(m.CloseIcon,{themeColor:r.themeColor})):i.default.createElement(i.default.Fragment,null)))),i.default.createElement("div",{className:"modal-action"},i.default.createElement("div",{className:`button-group ${r.themeColor}`,style:{flexGrow:1}},"import"===t?i.default.createElement(i.default.Fragment,null,i.default.createElement(f.default,{disabled:!h||0===n.length,themeColor:r.themeColor,onClick:()=>{a(u.formationAction(u.FormationAction.Import,{importedFormation:v})),e({modal:"",isOpen:!1})}},"Import"),i.default.createElement(f.default,{themeColor:r.themeColor,onClick:()=>e({modal:"",isOpen:!1})},"Cancel")):i.default.createElement(f.default,{themeColor:r.themeColor,onClick:()=>{b&&b.current&&(b.current.select(),document.execCommand("copy"),b.current.focus(),S(!0))}},y?"Copied successfully.":"Copy to clipboard"))))};t.default=p,p.propTypes={setModalOpen:c.default.func.isRequired,isType:c.default.string.isRequired}},4208:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=o(a(5697)),d=a(216),u=o(a(1105)),m=o(a(1578)),f=a(258),p=({setModalOpen:e})=>{const t=s.useDispatch(),a=s.useSelector((e=>e.config)),[r,l]=i.useState(""),[n,o]=i.useState("normal"),[c,p]=i.useState(!1);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"modal-title"},"Create new formation"),i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",null,i.default.createElement("div",{id:"input-group",className:`${a.themeColor} ${c?"input-focus":""}`},i.default.createElement("input",{id:"name-input",type:"text",spellCheck:"false",className:`${a.themeColor}`,placeholder:"Formation name",value:r,onChange:e=>{l(e.target.value)},onFocus:e=>{p(!0),e.target.select()},onBlur:()=>p(!1),onKeyUp:a=>{"Enter"===a.key&&(t(d.formationAction(d.FormationAction.New,{formationName:r,formationType:n})),e({modal:"",isOpen:!1}))}}),r.length>0?i.default.createElement(u.default,{themeColor:a.themeColor,className:"btn icon",onClick:()=>{l("")}},i.default.createElement(f.CloseIcon,{themeColor:a.themeColor})):i.default.createElement(i.default.Fragment,null))),i.default.createElement("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"}},i.default.createElement("div",{className:`radio-group ${a.themeColor}`},i.default.createElement(m.default,{id:"normal-toggle",value:"normal",className:"btn normal",themeColor:a.themeColor,onChange:()=>o("normal"),selected:"normal"===n},"Normal"),i.default.createElement(m.default,{id:"siren-toggle",value:"siren",className:"btn normal",themeColor:a.themeColor,onChange:()=>o("siren"),selected:"siren"===n},"Siren")))),i.default.createElement("div",{className:"modal-action"},i.default.createElement("div",{className:`button-group ${a.themeColor}`,style:{flexGrow:1}},i.default.createElement(u.default,{themeColor:a.themeColor,onClick:()=>{t(d.formationAction(d.FormationAction.New,{formationName:r,formationType:n})),e({modal:"",isOpen:!1})}},"Create"),i.default.createElement(u.default,{themeColor:a.themeColor,onClick:()=>e({modal:"",isOpen:!1})},"Cancel"))))};t.default=p,p.propTypes={setModalOpen:c.default.func.isRequired}},805:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=o(a(5697)),d=a(216),u=o(a(1105)),m=a(258),f=({setModalOpen:e})=>{const t=s.useDispatch(),a=s.useSelector((e=>e.config)),[r,l]=i.useState(""),[n,o]=i.useState(!1);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"modal-title"},"Rename formation"),i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",null,i.default.createElement("div",{id:"input-group",className:`${a.themeColor} ${n?"input-focus":""}`},i.default.createElement("input",{id:"name-input",autoFocus:!0,type:"text",spellCheck:"false",className:`${a.themeColor}`,placeholder:"Formation name",value:r,onChange:e=>{l(e.target.value)},onFocus:e=>{o(!0),e.target.select()},onBlur:()=>o(!1),onKeyUp:a=>{"Enter"===a.key&&(t(d.formationAction(d.FormationAction.Rename,{formationName:r})),e({modal:"",isOpen:!1}))}}),r.length>0?i.default.createElement(u.default,{themeColor:a.themeColor,className:"btn icon",onClick:()=>{l("")}},i.default.createElement(m.CloseIcon,{themeColor:a.themeColor})):i.default.createElement(i.default.Fragment,null)))),i.default.createElement("div",{className:"modal-action"},i.default.createElement("div",{className:`button-group ${a.themeColor}`,style:{flexGrow:1}},i.default.createElement(u.default,{themeColor:a.themeColor,onClick:()=>{t(d.formationAction(d.FormationAction.Rename,{formationName:r})),e({modal:"",isOpen:!1})}},"Rename"),i.default.createElement(u.default,{themeColor:a.themeColor,onClick:()=>e({modal:"",isOpen:!1})},"Cancel"))))};t.default=f,f.propTypes={setModalOpen:c.default.func.isRequired}},1821:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294)),n=a(276),o=r(a(1480)),i=r(a(3622));t.default=({children:e})=>{const t=n.useSelector((e=>e.config));return l.default.createElement(l.default.Fragment,null,l.default.createElement(o.default,{showMenu:!0}),l.default.createElement("div",{className:`page ${t.themeColor}`},e),l.default.createElement(i.default,null))}},5690:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294));t.default=({optionalName:e,skills:t})=>l.default.createElement(l.default.Fragment,null,void 0!==t?t?.map((t=>l.default.createElement("div",{key:t.names.en,className:`f-row passive-list ${t.color}`},l.default.createElement("div",{className:"grid-item name"},void 0!==e?e:t.names.en),l.default.createElement("div",{className:"grid-item passive"},t.description)))):l.default.createElement(l.default.Fragment,null))},1105:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(a(7294)),i=o.default.memo((({className:e="btn normal",children:t,themeColor:a="",onClick:r,disabled:l,extraStyle:n,id:i,role:s})=>{const[c,d]=o.useState(!1);return o.default.createElement("button",{role:s,id:i,onKeyUp:e=>{"Tab"===e.key&&d(!0)},onMouseUp:()=>{c&&d(!1)},type:"button",className:`${e} ${a} ${c?"":"no-focus-outline"}`,onClick:r,disabled:l,style:n},t)}));t.default=i},1578:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(a(7294)),i=o.default.memo((({id:e,value:t,className:a="btn normal",children:r,themeColor:l,onChange:n,selected:i,extraStyle:s})=>{const[c,d]=o.useState(!1);return o.default.createElement("label",{className:`${a} ${l}${i?" selected":""} ${c?"":"no-focus-outline"}`,htmlFor:`${e}-input`,style:s},r,o.default.createElement("input",{id:`${e}-input`,value:t,type:"radio",checked:i,onChange:n,onClick:e=>{const{clientX:t,clientY:a}=e;d(0===t||0===a)},onKeyUp:e=>{"Tab"!==e.key&&"ArrowRight"!==e.key&&"ArrowLeft"!==e.key||d(!0)}}))}));t.default=i},9058:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=n(a(5697)),d=a(7243),u=a(2014),m=a(8957),f=o(a(1105)),p=({themeColor:e})=>{const t=s.useDispatch(),{shipData:a}=i.useContext(m.AppContext),r=s.useSelector((e=>e.searchParameters)),l=s.useSelector((e=>e.appState)),n=i.useCallback(((e,a,r)=>l=>{t(u.updateSearch(e,a,r))}),[t]);return i.default.createElement("div",{className:`popover-content ${e}`},i.default.createElement("div",{className:"f-grid"},i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item toggle"},i.default.createElement(f.default,{className:"btn small "+(r.nationality.All?"selected":""),themeColor:e,onClick:n(a,u.SearchAction.ToggleAll,{name:"",cat:"nationality",param:"",list:l.cToggle,id:""})},"All")),Object.keys(d.nationCategories).map((t=>i.default.createElement("div",{className:"grid-item toggle",key:t},i.default.createElement(f.default,{className:"btn small "+(r.nationality[t]?"selected":""),themeColor:e,onClick:n(a,u.SearchAction.ToggleParameter,{name:"",cat:"nationality",param:t,list:l.cToggle,id:""})},d.nationCategories[t]))))),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item toggle"},i.default.createElement(f.default,{className:"btn small "+(r.hullType.All?"selected":""),themeColor:e,onClick:n(a,u.SearchAction.ToggleAll,{name:"",cat:"hullType",param:"",list:l.cToggle,id:""})},"All")),Object.keys(d.hullTypesAbb).map((t=>i.default.createElement("div",{className:"grid-item toggle",key:t},i.default.createElement(f.default,{className:"btn small "+(r.hullType[t]?"selected":""),themeColor:e,onClick:n(a,u.SearchAction.ToggleParameter,{name:"",cat:"hullType",param:t,list:l.cToggle,id:""})},d.hullTypesAbb[t]))))),i.default.createElement("div",{className:"f-row wrap"},i.default.createElement("div",{className:"grid-item toggle"},i.default.createElement(f.default,{className:"btn small "+(r.rarity.All?"selected":""),themeColor:e,onClick:n(a,u.SearchAction.ToggleAll,{name:"",cat:"rarity",param:"",list:l.cToggle,id:""})},"All")),d.rarityCategories.map((t=>i.default.createElement("div",{className:"grid-item toggle",key:t},i.default.createElement(f.default,{className:"btn small "+(r.rarity[t]?"selected":""),themeColor:e,onClick:n(a,u.SearchAction.ToggleParameter,{name:"",cat:"rarity",param:t,list:l.cToggle,id:""})},t)))))))};t.default=p,p.propTypes={themeColor:c.string.isRequired}},8493:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294)),n=r(a(1821)),o=r(a(8272)),i=a(276),s=r(a(6229)),c=r(a(4032));t.default=()=>{const e=i.useSelector((e=>e.appState)),t=i.useSelector((e=>e.ownedSearchList)),a=i.useSelector((e=>e.shipSearchList));return l.default.createElement(n.default,null,l.default.createElement("section",{className:"page-content"},"INIT"===e.cState?l.default.createElement("div",{className:"ship-data-container"},l.default.createElement("div",{className:"info-text"},e.cMsg)):l.default.createElement(l.default.Fragment,null,l.default.createElement(s.default,null,l.default.createElement(c.default,{shipSearchList:a,listName:"ALL"}),l.default.createElement(c.default,{shipSearchList:t,listName:"OWNED"})),l.default.createElement("div",{className:"ship-data-container"},l.default.createElement(o.default,null)))))}},8272:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=a(5652),d=a(250),u=a(1930),m=a(8957),f=a(2014),p=o(a(5690)),h=o(a(1105));t.default=()=>{const e=s.useDispatch(),{addToast:t,shipData:a,storage:r}=i.useContext(m.AppContext),l=s.useSelector((e=>e.appState)),n=s.useSelector((e=>e.ownedShips)),o=s.useSelector((e=>e.config)),[g,v]=i.useState();i.useEffect((()=>{l[l.cToggle].isUpdated?v(a.getShipByIndex(l[l.cToggle].index)):e(f.updateSearch(a,f.SearchAction.UpdateList,{name:"",cat:"",param:"",id:"",list:l.cToggle}))}),[l.cToggle,e,a]),i.useEffect((()=>{v(a.getShipByIndex(l[l.cToggle].index))}),[l.ALL,l.OWNED,a]);const E=i.useCallback((()=>{g&&(e(u.addShip(g.id,r)),o.isToast&&t("success","Docks",`${g.names.code} was added to docks.`))}),[g,e,r,o.isToast,t]),y=i.useCallback((()=>{g&&(e(u.removeShip(a,g.id,r)),o.isToast&&t("info","Docks",`${g.names.code} removed from docks.`))}),[g,e,a,r,o.isToast,t]);return g?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"ship-title-bar"},i.default.createElement("span",{className:"ship-name"},g.names.code),i.default.createElement("span",{className:g.rarity},` ${g.stars?.stars}`)),i.default.createElement("div",{className:`button-group ${o.themeColor}`,style:{marginBottom:"5px"}},g&&n.some((e=>e===g.id))?i.default.createElement(h.default,{themeColor:o.themeColor,onClick:y,className:"btn normal",extraStyle:{minWidth:"85px"}},"Remove"):i.default.createElement(h.default,{themeColor:o.themeColor,onClick:E,className:"btn normal",extraStyle:{minWidth:"85px"}},"Add"),i.default.createElement(h.default,{themeColor:o.themeColor,onClick:()=>c.openWikiUrl(void 0!==g.wikiUrl?g.wikiUrl:""),className:"btn normal",disabled:!d.urlValidation(void 0!==g.wikiUrl?g.wikiUrl:""),extraStyle:{minWidth:"85px"}},"wiki")),i.default.createElement("div",{className:"scroll"},i.default.createElement("div",{className:`f-grid ${o.themeColor}`},i.default.createElement("div",{className:"f-row"},i.default.createElement("div",{className:"passive f-header"},"Passives")),i.default.createElement(p.default,{skills:g.skills})))):i.default.createElement("div",{style:{display:"flex",height:"100%",justifyContent:"center"}},i.default.createElement("div",{className:`message-container ${o.themeColor}`,style:{alignSelf:"center",width:"50%",minHeight:"40px"}},i.default.createElement("span",{className:"message",style:{fontSize:"24px",justifyContent:"center"}},"No ship selected or found.")))}},4032:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=o(a(1728)),d=a(453),u=a(578),m=a(8957),f=a(7243);t.default=({shipSearchList:e,listName:t})=>{const a=s.useDispatch(),{shipData:r}=i.useContext(m.AppContext),l=s.useSelector((e=>e.config)),n=s.useSelector((e=>e.appState)),o=s.useSelector((e=>e.ownedShips)),p=i.useCallback(((e,t)=>{a(u.setSelectedShip(n.cToggle,e,t))}),[n.cToggle,a]),h=e=>e&&e.hullType?f.hullTypes[e.hullType]:"",g=e=>e&&e.rarity?e.rarity:"",v=i.useCallback((e=>"OWNED"!==t&&o.includes(e)),[t,o]);return i.default.createElement("div",{className:"rList"+(t!==n.cToggle?" hidden":"")},i.default.createElement(c.default,null,(({height:t,width:a})=>i.default.createElement(d.FixedSizeList,{height:t,itemCount:e.length,itemSize:30,width:a,style:{overflowY:"scroll"}},i.default.memo((({index:t,style:a})=>{const o=r.shipsArr[e[t].index],s=v(o.id);return i.default.createElement("button",{type:"button",style:{...a,top:a.top+1,height:29,width:"calc(100% - 1px)"},className:`rList-item btn ${l.themeColor} ${s?"owned":""} ${e[t].id===n[n.cToggle].id?"selected":""} ${h(o)}`,onClick:()=>p(e[t].id,e[t].index)},i.default.createElement("div",{className:"owned-indicator"}),i.default.createElement("div",{className:`name ${g(o)}`},o.names.en),i.default.createElement("div",{className:"hullTypeAbb"},(c=o.hullType)?f.hullTypesAbb[f.hullTypes[c]]:"-"));var c}))))))}},6229:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=o(a(5697)),d=a(578),u=a(2014),m=o(a(7021)),f=a(8957),p=o(a(1578)),h=o(a(1105)),g=a(258),v=({children:e})=>{const t=s.useDispatch(),{shipData:a}=i.useContext(f.AppContext),r=s.useSelector((e=>e.config)),l=s.useSelector((e=>e.appState)),n=s.useSelector((e=>e.searchParameters)),[o,c]=i.useState(n.name),[v,E]=i.useState(!1);i.useEffect((()=>{const{cToggle:e}=l;"INIT"!==l.cState&&t(u.updateSearch(a,u.SearchAction.UpdateList,{name:"",cat:"",param:"",id:"",list:e}))}),[l,l.cToggle,t,a]);const y=i.useCallback((e=>{t(d.setCurrentToggle(e))}),[t]);return i.default.createElement("div",{className:"ship-side-container"},i.default.createElement("div",{className:"top-container"},i.default.createElement("form",{role:"search"},i.default.createElement("div",{id:"input-group",className:`${r.themeColor} ${v?"input-focus":""}`},i.default.createElement("input",{id:"search-input","aria-label":"search",type:"text",spellCheck:"false",className:`${r.themeColor}`,value:o,onChange:e=>{c(e.target.value),t(u.updateSearch(a,u.SearchAction.SetName,{name:e.target.value,cat:"",param:"",list:l.cToggle,id:""}))},onFocus:e=>{e.target.select(),E(!0)},onBlur:()=>E(!1)}),o.length>0?i.default.createElement(h.default,{className:"btn icon",themeColor:r.themeColor,onClick:()=>{c(""),t(u.updateSearch(a,u.SearchAction.SetName,{name:"",cat:"",param:"",list:l.cToggle,id:""}))}},i.default.createElement(g.CloseIcon,{themeColor:r.themeColor})):i.default.createElement(i.default.Fragment,null))),i.default.createElement(m.default,{themeColor:r.themeColor}),i.default.createElement("div",{className:`radio-group ${r.themeColor}`},i.default.createElement(p.default,{id:"all-toggle",value:"ALL",className:"btn normal",themeColor:r.themeColor,onChange:()=>y("ALL"),selected:"ALL"===l.cToggle},"All"),i.default.createElement(p.default,{id:"owned-toggle",value:"OWNED",className:"btn normal",themeColor:r.themeColor,onChange:()=>y("OWNED"),selected:"OWNED"===l.cToggle},"Owned"))),e)};t.default=v,v.propTypes={children:c.default.node.isRequired}},1480:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(3727),c=a(276),d=o(a(3253)),u=o(a(5697)),m=(a(5652),a(4485)),f=a(8957),p=(a(258),o(a(8037))),h=(o(a(1105)),o(a(1578))),g=({children:e,pathTo:t})=>{const[a,r]=i.useState(!1);return i.default.createElement(s.NavLink,{className:a?"":"no-focus-outline",to:t,onKeyUp:e=>{"Tab"===e.key&&r(!0)},onMouseDown:()=>{a&&r(!1)},onClick:e=>{const{clientX:t,clientY:a}=e;r(0===t||0===a)}},e)};g.propTypes={children:u.default.node.isRequired,pathTo:u.default.string.isRequired},d.default.setAppElement("#root");const v=({showMenu:e})=>{const t=c.useDispatch(),{storage:a}=i.useContext(f.AppContext),r=(c.useSelector((e=>e.formationGrid)),c.useSelector((e=>e.config))),[l,n]=i.useState(!1),[o,s]=i.useState(!1),u=i.useCallback(((e,r)=>{t(m.configAction(m.AppConfigAction.Update,{key:e,value:r,storage:a,doSave:!0}))}),[t,a]);return i.default.createElement("header",{id:"titlebar",className:`${r.themeColor}`},i.default.createElement("div",{id:"drag-region"},i.default.createElement("div",{id:"window-title"},i.default.createElement("span",null,"Formation tool")),e?i.default.createElement("div",{id:"window-menu"},i.default.createElement("nav",{className:`tab ${r.themeColor}`,"aria-label":"primary"},i.default.createElement(g,{pathTo:"/shipdetails"},i.default.createElement("span",null,"Ships")),i.default.createElement(g,{pathTo:"/formations"},i.default.createElement("span",null,"Formations")),i.default.createElement(i.default.Fragment,null))):i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{style:"light"===r.themeColor?{}:{borderBottom:`1px solid var(--main-${r.themeColor}-border)`,boxShadow:"inset 0px -4px 3px -4px #00000099"}})),i.default.createElement("div",{id:"window-filler"}),i.default.createElement("div",{id:"window-controls",className:"web"},i.default.createElement("div",{className:`radio-group ${r.themeColor}`},i.default.createElement(h.default,{id:"dark-toggle",value:"dark",className:"btn normal",themeColor:r.themeColor,onChange:()=>u("themeColor","dark"),selected:"dark"===r.themeColor},"D"),i.default.createElement(h.default,{id:"light-toggle",value:"light",className:"btn normal",themeColor:r.themeColor,onChange:()=>{u("themeColor","light")},selected:"light"===r.themeColor},"L")))),i.default.createElement(d.default,{overlayClassName:`modal-overlay ${r.themeColor}`,isOpen:o,className:"modal-container",shouldCloseOnEsc:!0,onRequestClose:()=>s(!1)},i.default.createElement(p.default,{setModalOpen:s})))};t.default=v,v.propTypes={showMenu:u.default.bool.isRequired}},7215:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=n(a(7294)),i=a(8957),s=o.default.memo((({position:e,type:t,label:a,msg:r,toastId:l})=>{const{onToastDismiss:n}=o.useContext(i.AppContext),[s,c]=o.useState({onEntering:!0,onEnter:!1,onExiting:!1,onExit:!1});return o.default.createElement("div",{className:`toast ${t} ${e} ${s.onEntering?"from-right":""} ${s.onExiting?"to-right":""}`,onAnimationEnd:()=>{s.onEntering?c({...s,onEntering:!1,onEnter:!0}):s.onExiting&&n(l)},onClick:()=>{c({...s,onExiting:!0})}},o.default.createElement("div",{className:"toast-right-content"},o.default.createElement("div",{className:"toast-title"},a),o.default.createElement("div",{className:"toast-message"},r)))}));t.default=s},2580:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return l(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(a(7294)),s=a(276),c=a(8957),d=o(a(7215));t.default=({position:e="bottom-center"})=>{const{toasts:t}=i.useContext(c.AppContext),a=s.useSelector((e=>e.config));return i.default.createElement("div",{className:`toast-container ${a.themeColor} ${e}`},t.map((t=>i.default.createElement(d.default,{key:t.id,position:e,type:t.type,label:t.label,msg:t.msg,toastId:t.id}))))}},8266:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToast=void 0;const r=a(7294);function l(e,t){switch(t.type){case"add":return[...e,{...t.payload}];case"remove":return[...e.filter(((e,a)=>a!==t.index))];case"pop":return[...e.slice(1)];default:throw new Error}}t.useToast=(e,t)=>{const[a,n]=r.useReducer(l,[]),o=r.useRef(),i=r.useCallback((e=>{const t=a.findIndex((t=>t.id===e));if(a[t].callback){const e=a[t].callback;e&&e()}n({type:"remove",index:t})}),[a]),s=r.useCallback((()=>{const e=a[0];if(e.callback){const t=e.callback;t&&t()}n({type:"pop"})}),[a]);return r.useEffect((()=>{const r=window.setInterval((()=>{e&&a.length&&(a[0].isCallback&&i(a[0].id),s())}),t);return o.current=r,()=>{clearInterval(o.current)}}),[a,e,i,t,s]),[(e,t,a,r)=>{const l=Date.now();n({type:"add",payload:{id:l,type:e,label:t,msg:a,isCallback:!!r,callback:r||void 0}})},i,s,a]}},7243:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hullTypesAbb=t.hullTypes=t.rarityCategories=t.nationCategories=t.fleets=void 0,t.fleets={MAIN:["Battlecruiser","Battleship","Light Aircraft Carrier","Aircraft Carrier","Monitor","Repair Ship","Light Carrier"],VANGUARD:["Destroyer","Light Cruiser","Southampton subclass","Edinburgh subclass","London subclass","Kent subclass","Norfolk subclass","Heavy Cruiser","Ayanami subclass","Akatsuki subclass","St. Louis subclass","A subclass","B subclass","Large Cruiser"]},t.nationCategories={"Royal Navy":"HMS","Sakura Empire":"IJN","Iron Blood":"KMS","Northern Parliament":"SN","Eagle Union":"USS","Iris Libre":"FFNF","Vichya Dominion":"MNF","Sardegna Empire":"RN",Universal:"UNI",Neptunia:"NEP",Bilibili:"BIL",Utawarerumono:"UTA","Kizuna AI":"KA",Hololive:"HOL"},t.rarityCategories=["Normal","Rare","Elite","Super Rare","Ultra Rare","Unreleased","Priority","Decisive"],t.hullTypes={Destroyer:"Destroyer","Light Cruiser":"Light Cruiser","Southampton subclass":"Light Cruiser","Edinburgh subclass":"Light Cruiser","London subclass":"Heavy Cruiser","Kent subclass":"Heavy Cruiser","Norfolk subclass":"Heavy Cruiser","Heavy Cruiser":"Heavy Cruiser",Battlecruiser:"Battlecruiser",Battleship:"Battleship","Light Aircraft Carrier":"Light Aircraft Carrier","Light Carrier":"Light Aircraft Carrier","Aircraft Carrier":"Aircraft Carrier",Monitor:"Monitor","Ayanami subclass":"Destroyer","Akatsuki subclass":"Destroyer","Repair Ship":"Repair Ship",Repair:"Repair Ship","St. Louis subclass":"Light Cruiser",Submarine:"Submarine","Submarine Carrier":"Submarine Carrier","A subclass":"Destroyer","B subclass":"Destroyer","Large Cruiser":"Large Cruiser"},t.hullTypesAbb={Destroyer:"DD","Light Cruiser":"CL","Heavy Cruiser":"CA",Battlecruiser:"BC",Battleship:"BB","Light Aircraft Carrier":"CVL","Light Carrier":"CVL","Aircraft Carrier":"CV",Monitor:"BM","Repair Ship":"AR",Repair:"AR",Submarine:"SS","Submarine Carrier":"SSV","Large Cruiser":"CB"}},3793:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(3926),n=r(a(1061)),o=r(a(1930)),i=r(a(4485)),s=r(a(578)),c=r(a(1942)),d=r(a(216)),u=r(a(9122)),m=r(a(2014)),f=r(a(2113)),p=l.combineReducers({shipSearchList:n.default,ownedShips:o.default,config:i.default,appState:s.default,ownedSearchList:c.default,formationGrid:d.default,formationModal:u.default,searchParameters:m.default,toastList:f.default});t.default=p},578:function(e,t,a){"use strict";var r,l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateShipData=t.setSelectedShip=t.initShipLists=t.clearErrorMessage=t.setErrorMessage=t.setIsUpdated=t.setShipCount=t.setListValue=t.setCurrentState=t.setCurrentToggle=t.resetList=t.setListState=void 0;const n=a(3926),o=a(276),i=(a(5652),a(250)),s=l(a(3960)),c=a(1061),d=a(1942),u=a(1930),m=a(216),f=a(4485),p={cToggle:"ALL",ALL:{id:"NONE",index:0,isUpdated:!1},OWNED:{id:"NONE",index:0,isUpdated:!1},cState:"INIT",cMsg:"Initializing.",eMsg:"",eState:"",shipCount:0,isSearchChanged:!1},h=n.createSlice({name:"appStateSlice",initialState:p,reducers:{setListState:(e,t)=>({...e,[t.payload.key]:t.payload.data}),setListValue:(e,t)=>({...e,[t.payload.key]:t.payload.value}),setCurrentToggle:(e,t)=>({...e,cToggle:t.payload}),setCurrentState(e,t){const{cState:a,cMsg:r}=t.payload;return{...e,cState:a,cMsg:r}},setErrorMessage(e,t){const{cState:a,eMsg:r,eState:l}=t.payload;return{...e,cState:a,eMsg:r,eState:l}},clearErrorMessage:e=>({...e,eMsg:"",eState:""}),resetList:()=>p,setShipCount:(e,t)=>({...e,shipCount:t.payload}),setIsUpdated(e,t){const{key:a,value:r}=t.payload;return{...e,[a]:{...e[a],isUpdated:r}}}}});r=h.actions,t.setListState=r.setListState,t.resetList=r.resetList,t.setCurrentToggle=r.setCurrentToggle,t.setCurrentState=r.setCurrentState,t.setListValue=r.setListValue,t.setShipCount=r.setShipCount,t.setIsUpdated=r.setIsUpdated,t.setErrorMessage=r.setErrorMessage,t.clearErrorMessage=r.clearErrorMessage,t.initShipLists=(e,a,r,l)=>async n=>{let i=[],p=[],h="NONE",g=0,v="NONE",E=0;try{i=s.default.transformShipList(a.shipsArr),void 0!==p&&(p=s.default.transformStringList(a.shipsArr,e)),h=i.length>0?i[0].id:"NONE",g=i.length>0?i[0].index:NaN,v=p.length>0?p[0].id:"NONE",E=p.length>0?p[0].index:NaN,o.batch((()=>{n(c.setSearchList(i)),n(d.setOwnedSearchList(p)),n(u.setOwnedList(e)),n(t.setListState({key:"ALL",data:{id:h,index:g,isUpdated:!0}})),n(t.setListState({key:"OWNED",data:{id:v,index:E,isUpdated:!0}}))})),null!==r&&n(f.setConfig(r)),n(m.setFormationsData(l)),n(t.setShipCount(i.length)),n(t.setCurrentState({cState:"RUNNING",cMsg:"Running."}))}catch(e){n(t.setErrorMessage({cState:"ERROR",eMsg:"Unable to initialize ship lists.",eState:"ERROR"}))}},t.setSelectedShip=(e,a,r)=>async(l,n)=>{const{appState:o}=n();try{l(t.setListState({key:e,data:{id:a,index:r,isUpdated:o[e].isUpdated}}))}catch(e){l(t.setErrorMessage({cState:"RUNNING",eMsg:"There was a problem selecting a ship",eState:"WARNING"}))}},t.updateShipData=(e,a,r)=>async(l,n)=>{l(t.setCurrentState({cState:"DOWNLOADING",cMsg:"Please wait while downloading data."}));const{config:d}=n();try{await i.fetchWithTimeout("https://raw.githubusercontent.com/AzurAPI/azurapi-js-setup/master/ships.json",2e4).then(i.handleHTTPError).then((e=>e.json())).then((async n=>{try{l(t.setCurrentState({cState:"SAVING",cMsg:"Please wait while saving data."}));let i=!0,u="";const m=[...Object.keys(n).map((e=>n[e]))];if(a){const e=new Date;u=`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`;const{isEdit:t,...r}={...d,updateDate:u};await a.setItem("shipData",m),await a.setItem("config",r)}if(!i)throw new Error("There was a problem saving ship data.");{l(t.setCurrentState({cState:"UPDATING",cMsg:"Please wait while updating app state."})),await e.setArray(m);const a=s.default.transformShipList(m),r=a.length>0?a[0].id:"NONE",n=a.length>0?a[0].index:NaN;o.batch((()=>{l(c.setSearchList(a)),l(t.setListState({key:"ALL",data:{id:r,index:n,isUpdated:!1}})),l(t.setShipCount(m.length)),l(f.setUpdateDate(u))}))}l(t.setCurrentState({cState:"RUNNING",cMsg:"Running."})),d.isToast&&r&&r("success","Update","Update finished succesfully.")}catch(e){l(t.setErrorMessage({cState:"RUNNING",eMsg:"There was a problem with saving new ship data.1",eState:"WARNING"})),d.isToast&&r&&r("warning","Update","There was a problem with saving new ship data. No changes made.")}})).catch((e=>{e instanceof Error&&("AbortError"===e.name?(l(t.setErrorMessage({cState:"RUNNING",eMsg:"Network connection problem or response took too long.",eState:"WARNING"})),d.isToast&&r&&r("warning","Update","Network connection problem or response took too long.")):(l(t.setErrorMessage({cState:"RUNNING",eMsg:e.message,eState:"WARNING"})),d.isToast&&r&&r("warning","Update",e.message)))}))}catch(e){l(t.setErrorMessage({cState:"RUNNING",eMsg:"Failed to update ship data.",eState:"WARNING"})),d.isToast&&r&&r("warning","Update","Failed to update ship data.")}},t.default=h.reducer},216:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.formationAction=t.removeShipFromFormation=t.toggleIsEdit=t.selectFormation=t.removeFormation=t.addNewFormationData=t.setFormationsData=t.renameFormation=t.resetFormation=t.addShipToFormation=t.FormationAction=void 0;const l=a(3926),n=a(5652),o=a(578);var i;(i=t.FormationAction||(t.FormationAction={})).New="NEW",i.Remove="REMOVE",i.Rename="RENAME",i.Save="SAVE",i.AddShip="ADDSHIP",i.RemoveShip="REMOVESHIP",i.Export="EXPORT",i.Import="IMPORT";const s={formations:[],selectedIndex:NaN,isEdit:[]},c=l.createSlice({name:"formationGridSlice",initialState:s,reducers:{addShipToFormation(e,t){const{id:a,gridIndex:r,selectedIndex:l}=t.payload,n=e.formations.map(((e,t)=>t!==l?e:{...e,data:e.data.map(((e,t)=>t!==r&&e!==a?e:t!==r&&e===a?"NONE":a))}));return{...e,formations:n,isEdit:e.isEdit.map(((e,t)=>t===l||e))}},resetFormation:()=>s,renameFormation(e,t){const{idx:a,name:r}=t.payload,l=e.formations.map(((e,t)=>t!==a?e:{...e,name:r}));return{...e,formations:l,isEdit:e.isEdit.map(((e,t)=>t===a||e))}},setFormationsData(e,t){const a=t.payload.length,r=Array(a).fill(!1);return{...e,formations:t.payload,selectedIndex:a>=0?0:NaN,isEdit:r}},addNewFormationData(e,t){const a=[...e.formations.slice(),t.payload],r=[...e.isEdit.slice(),!0];return{...e,formations:a,selectedIndex:a.length-1,isEdit:r}},removeFormation(e,t){const a=t.payload,r=e.formations.filter(((e,t)=>t!==a)),l=e.isEdit.filter(((e,t)=>t!==a)),n=r.length;let o=0;return o=0===a&&n>0?0:0!==a&&n>0?a-1:NaN,{...e,formations:r,selectedIndex:o,isEdit:l}},selectFormation:(e,t)=>({...e,selectedIndex:t.payload}),toggleIsEdit(e,t){const a=t.payload;return{...e,isEdit:e.isEdit.map(((e,t)=>t!==a?e:!e))}},removeShipFromFormation(e,t){const{gridIndex:a,selectedIndex:r}=t.payload,l=e.formations.map(((e,t)=>t!==r?e:{...e,data:e.data.map(((e,t)=>t!==a?e:"NONE"))}));return{...e,formations:l,isEdit:e.isEdit.map(((e,t)=>t===r||e))}}}});r=c.actions,t.addShipToFormation=r.addShipToFormation,t.resetFormation=r.resetFormation,t.renameFormation=r.renameFormation,t.setFormationsData=r.setFormationsData,t.addNewFormationData=r.addNewFormationData,t.removeFormation=r.removeFormation,t.selectFormation=r.selectFormation,t.toggleIsEdit=r.toggleIsEdit,t.removeShipFromFormation=r.removeShipFromFormation,t.formationAction=(e,a)=>async(r,l)=>{let i={isOk:!1,msg:""};try{const o="web",{formationGrid:s,formationModal:c,appState:d}=l(),u=s.selectedIndex,m=s.formations.length,{id:f}=d[d.cToggle],p=c.gridIndex,h=a.formationName||`Formation ${m}`,g=a.formationType||"normal",v=a.importedFormation||[],E=a.gridIndex||0,{storage:y}=a;let S=[];switch(e){case"NEW":S="normal"===g?Array.from({length:12},(()=>"NONE")):Array.from({length:24},(()=>"NONE")),r(t.addNewFormationData({data:S,name:h}));break;case"REMOVE":if("electron"===o&&(i=await n.removeAFormation(u)),"web"===o&&y){const e=s.formations.filter(((e,t)=>t!==u)),t=await y.setItem("formations",e);i.isOk=e.length===t.length,i.isOk||(i.msg="Failed to remove formation.")}if(i.isOk&&r(t.removeFormation(u)),!i.isOk)throw new Error(i.msg);break;case"RENAME":r(t.renameFormation({idx:u,name:h}));break;case"SAVE":if("electron"===o&&(i=await n.saveFormationData(s.formations)),"web"===o&&y){const e=await y.setItem("formations",s.formations);i.isOk=e.length===s.formations.length}i.isOk&&r(t.toggleIsEdit(u));break;case"ADDSHIP":r(t.addShipToFormation({id:f,gridIndex:p,selectedIndex:u}));break;case"REMOVESHIP":r(t.removeShipFromFormation({gridIndex:E,selectedIndex:u}));break;case"IMPORT":r(t.addNewFormationData({data:v,name:h}))}}catch(e){let t="";e instanceof Error&&(t=e.message),r(o.setErrorMessage({cState:"RUNNING",eMsg:t,eState:"WARNING"}))}},t.default=c.reducer},9122:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.formationModalAction=t.closeModal=t.openModal=t.FormationModalAction=void 0;const l=a(3926),n=a(276),o=a(2014),i=a(578);var s;(s=t.FormationModalAction||(t.FormationModalAction={})).Open="OPEN",s.Close="CLOSE";const c=[0,1,2,6,7,8,12,13,14,18,19,20],d=[3,4,5,9,10,11,15,16,17,21,22,23],u={id:"",shipIndex:NaN,list:"",gridIndex:NaN},m=l.createSlice({name:"formationModalSlice",initialState:u,reducers:{openModal:(e,t)=>({...e,...t.payload}),closeModal:()=>u}});r=m.actions,t.openModal=r.openModal,t.closeModal=r.closeModal,t.formationModalAction=(e,a,r,l)=>async s=>{try{switch(e){case"OPEN":if(void 0!==r&&l&&a){let e;if(c.includes(r))e="MAIN";else{if(!d.includes(r))throw new Error("Invalid grid index.");e="VANGUARD"}n.batch((()=>{s(o.resetParameters()),s(o.setFleet({fleet:e})),s(i.setIsUpdated({key:a,value:!1})),s(o.updateSearch(l,o.SearchAction.UpdateList,{name:"",cat:"",param:"",id:"",list:a}))})),s(t.openModal({gridIndex:r}))}break;case"CLOSE":a&&l&&(n.batch((()=>{s(o.setFleet({fleet:"ALL"})),s(i.setIsUpdated({key:a,value:!1})),s(o.updateSearch(l,o.SearchAction.UpdateList,{name:"",cat:"",param:"",id:"",list:a})),s(o.resetParameters())})),s(t.closeModal()))}}catch(e){s(i.setErrorMessage({cState:"ERROR",eMsg:"There was an error with formation modal action.",eState:"ERROR"}))}},t.default=m.reducer},1942:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setOwnedSearchList=void 0;const r=a(3926).createSlice({name:"ownedSearchListSlice",initialState:[],reducers:{setOwnedSearchList:(e,t)=>t.payload}});t.setOwnedSearchList=r.actions.setOwnedSearchList,t.default=r.reducer},1930:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.removeShip=t.addShip=t.removeShipId=t.setOwnedList=t.addShipId=t.resetList=void 0;const l=a(3926),n=a(5652),o=a(578),i=a(2014),s=[],c=l.createSlice({name:"ownedShipListSlice",initialState:s,reducers:{resetList:()=>s,addShipId:(e,t)=>[...e,t.payload],setOwnedList:(e,t)=>t.payload,removeShipId(e,t){const a=t.payload;return e.filter((e=>e!==a))}}});r=c.actions,t.resetList=r.resetList,t.addShipId=r.addShipId,t.setOwnedList=r.setOwnedList,t.removeShipId=r.removeShipId,t.addShip=(e,a)=>async(r,l)=>{let i={isOk:!1,msg:""};try{const s="web",c=[...l().ownedShips,e];if("electron"===s&&(i=await n.saveOwnedShipData(c)),"web"===s&&a){const e=await a.setItem("ownedShips",c);i.isOk=e.length===c.length}i.isOk&&(r(t.addShipId(e)),r(o.setIsUpdated({key:"OWNED",value:!1})))}catch(e){r(o.setErrorMessage({cState:"ERROR",eMsg:"There was an error with adding ship to docks.",eState:"ERROR"}))}},t.removeShip=(e,a,r)=>async(l,s)=>{let c={isOk:!1,msg:""};try{const d="web",u=[...s().ownedShips],{appState:m}=s(),f=u.filter((e=>e!==a));if("electron"===d&&(c=await n.saveOwnedShipData(f)),"web"===d&&r){const e=await r.setItem("ownedShips",f);c.isOk=e.length===f.length}c.isOk&&(l(t.setOwnedList(f)),l(o.setIsUpdated({key:"OWNED",value:!1})),"OWNED"===m.cToggle&&l(i.updateSearch(e,i.SearchAction.UpdateList,{name:"",cat:"",param:"",list:"OWNED",id:""})))}catch(e){l(o.setErrorMessage({cState:"ERROR",eMsg:"There was an error with adding ship to docks.",eState:"ERROR"}))}},t.default=c.reducer},4485:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.configAction=t.setEditState=t.setConfig=t.resetState=t.setUpdateDate=t.setStateValue=t.AppConfigAction=void 0;const l=a(3926),n=a(5652),o=a(578);var i;(i=t.AppConfigAction||(t.AppConfigAction={})).Save="SAVE",i.Update="UPDATE";const s={jsonURL:"https://raw.githubusercontent.com/AzurAPI/azurapi-js-setup/master/ships.json",themeColor:"dark",firstTime:!0,formHelpTooltip:!0,isToast:!0,updateDate:""},c=l.createSlice({name:"programConfigSlice",initialState:s,reducers:{setStateValue:(e,t)=>({...e,[t.payload.key]:t.payload.value,isEdit:!0}),setUpdateDate:(e,t)=>({...e,updateDate:t.payload}),setConfig:(e,t)=>({...e,...t.payload,isEdit:!1,firstTime:!1}),setEditState:(e,t)=>({...e,isEdit:t.payload}),resetState:()=>s}});r=c.actions,t.setStateValue=r.setStateValue,t.setUpdateDate=r.setUpdateDate,t.resetState=r.resetState,t.setConfig=r.setConfig,t.setEditState=r.setEditState,t.configAction=(e,a)=>async(r,l)=>{let i={isOk:!1,msg:""};try{const o="web",{config:s}=l(),{storage:c,key:d,value:u,doSave:m}=a,{isEdit:f,...p}={...s};switch(e){case"UPDATE":m&&"web"===o&&c&&"themeColor"===d&&(p.themeColor=u,await c.setItem("config",p)),r(t.setStateValue({key:d,value:u}));break;case"SAVE":if("electron"===o&&(i=await n.saveConfig(p)),"web"===o&&c){const e=await c.setItem("config",p);i.isOk=Object.is(e,p)}i.isOk&&r(t.setEditState(!1))}}catch(e){r(o.setErrorMessage({cState:"ERROR",eMsg:"There was an error with a config action.",eState:"ERROR"}))}},t.default=c.reducer},2014:function(e,t,a){"use strict";var r,l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearch=t.setChangeState=t.setSearchString=t.setFleet=t.toggleAll=t.toggleParameter=t.resetParameters=t.SearchAction=void 0;const n=a(3926),o=a(276),i=a(250),s=l(a(3960)),c=a(578),d=a(1942),u=a(1061);var m;(m=t.SearchAction||(t.SearchAction={})).ToggleParameter="TOGGLEPARAMETER",m.ToggleAll="TOGGLEALL",m.SetName="SETNAME",m.UpdateList="UPDATE",m.RemoveShip="REMOVE";const f={name:"",hullTypeArr:[],nationalityArr:[],rarityArr:[],hullType:{All:!0,Destroyer:!1,"Light Cruiser":!1,"Heavy Cruiser":!1,Battlecruiser:!1,Battleship:!1,"Light Aircraft Carrier":!1,"Aircraft Carrier":!1,Monitor:!1,"Repair Ship":!1,Submarine:!1,"Submarine Carrier":!1,"Large Cruiser":!1},nationality:{All:!0,"Sakura Empire":!1,"Eagle Union":!1,"Royal Navy":!1,Ironblood:!1,"Eastern Radiance":!1,"North Union":!1,"Iris Libre":!1,"Vichya Dominion":!1,"Sardegna Empire":!1,Universal:!1,Neptunia:!1,Bilibili:!1,Utawarerumono:!1,KizunaAI:!1,Hololive:!1},rarity:{All:!0,Normal:!1,Rare:!1,Elite:!1,"Super Rare":!1,Unreleased:!1,Priority:!1,Decisive:!1},fleet:"ALL",isChanged:!1},p=n.createSlice({name:"searchParametersSlice",initialState:f,reducers:{toggleParameter(e,t){const{cat:a,param:r}=t.payload,l=e[a][r];let n=[];const o={...e,isChanged:!0,[a]:{...e[a],All:!1,[r]:!l}};switch(a){case"nationality":l?(n=e.nationalityArr.slice().filter((e=>e!==r)),o.nationalityArr=n):(n=e.nationalityArr.slice(),n.push(r),o.nationalityArr=n);break;case"hullType":l?o.hullTypeArr=e.hullTypeArr.slice().filter((e=>e!==r)):(n=e.hullTypeArr.slice(),n.push(r),o.hullTypeArr=n);break;case"rarity":l?o.rarityArr=e.rarityArr.slice().filter((e=>e!==r)):(n=e.rarityArr.slice(),n.push(r),o.rarityArr=n)}return o},toggleAll(e,t){const a=t.payload,r=e[a].All,l=Object.fromEntries(Object.entries(e[a]).slice().map((([e])=>[e,!1]))),n={...e,isChanged:!0,[a]:{...l,All:!r}};switch(a){case"nationality":n.nationalityArr=[];break;case"rarity":n.rarityArr=[];break;case"hullType":n.hullTypeArr=[]}return n},setSearchString:(e,t)=>({...e,name:t.payload,isChanged:!0}),setFleet:(e,t)=>({...e,fleet:t.payload.fleet}),setChangeState:(e,t)=>({...e,isChanged:t.payload}),resetParameters:()=>f}});r=p.actions,t.resetParameters=r.resetParameters,t.toggleParameter=r.toggleParameter,t.toggleAll=r.toggleAll,t.setFleet=r.setFleet,t.setSearchString=r.setSearchString,t.setChangeState=r.setChangeState,t.updateSearch=(e,a,r)=>async(l,n)=>{try{const m=n().searchParameters,{name:f,cat:p,param:h,list:g}=r;switch(a){case"TOGGLEPARAMETER":{let e=!1,a={};if(!i.isBooleanObj(m[p]))return void l(c.setErrorMessage({cState:"RUNNING",eMsg:"Failed to toggle parameter. Problem with parameter object.",eState:"WARNING"}));a=m[p],e=a[h];const r=Object.keys(a).reduce(((e,t)=>a[t]?e+1:e),0);l(e&&1===r?t.toggleAll(p):t.toggleParameter({cat:p,param:h}));break}case"TOGGLEALL":l(t.toggleAll(p));break;case"SETNAME":l(t.setSearchString(f))}const{searchParameters:v,ownedShips:E,appState:y}=n(),S=y[g];if(v.isChanged||!y[g].isUpdated){let r=[],n=[];"ALL"===g&&(r=await e.getShipsByParams(v)),"OWNED"===g&&(n=s.default.transformStringList(e.shipsArr,E),n=await s.default.reduceByParams(e,n,v));const i=r.length,m=n.length;o.batch((()=>{if("ALL"===y.cToggle&&"ALL"===g){const e=r.find((e=>e.id===S.id))||r[0];l(0!==i?c.setListState({key:"ALL",data:{id:e.id,index:e.index,isUpdated:!0}}):c.setListState({key:"ALL",data:{id:"NONE",index:NaN,isUpdated:!0}}))}else if("OWNED"===y.cToggle&&"OWNED"===g){const e=n.find((e=>e.id===S.id))||n[0];l(0!==m?c.setListState({key:"OWNED",data:{id:e.id,index:e.index,isUpdated:!0}}):c.setListState({key:"OWNED",data:{id:"NONE",index:NaN,isUpdated:!0}}))}"UPDATE"!==a&&"REMOVE"!==a&&l("ALL"===g?c.setIsUpdated({key:"OWNED",value:!1}):c.setIsUpdated({key:"ALL",value:!1})),"ALL"===g&&l(u.setSearchList(r)),"OWNED"===g&&l(d.setOwnedSearchList(n))})),l(t.setChangeState(!1))}}catch(e){l(c.setErrorMessage({cState:"ERROR",eMsg:"There was an error with performing search update.",eState:"ERROR"}))}},t.default=p.reducer},1061:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.resetSearchList=t.setSearchList=void 0;const l=a(3926),n=[],o=l.createSlice({name:"shipListSlice",initialState:n,reducers:{setSearchList:(e,t)=>t.payload,resetSearchList:()=>n}});r=o.actions,t.setSearchList=r.setSearchList,t.resetSearchList=r.resetSearchList,t.default=o.reducer},2113:function(e,t,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.removeToastByIndex=t.removeToastById=t.popToast=t.newToast=void 0;const l=a(3926).createSlice({name:"toastSlice",initialState:[],reducers:{newToast:(e,t)=>[...e,t.payload],removeToastByIndex(e,t){const a=t.payload;return e.filter(((e,t)=>t!==a))},removeToastById(e,t){const a=t.payload;return e.filter((e=>e.id!==a))},popToast:e=>e.slice(1)}});r=l.actions,t.newToast=r.newToast,t.popToast=r.popToast,t.removeToastById=r.removeToastById,t.removeToastByIndex=r.removeToastByIndex,t.default=l.reducer},1464:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=a(3926),n=r(a(3793)),o=l.configureStore({reducer:n.default});t.default=o},8643:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=r(a(7294)),n=r(a(3935)),o=a(276);a(9892),a(4215),a(5670),a(4611),a(455);const i=r(a(1464)),s=r(a(8957));n.default.render(l.default.createElement(l.default.StrictMode,null,l.default.createElement(o.Provider,{store:i.default},l.default.createElement(s.default,null))),document.getElementById("root"))},250:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadShipData=t.handleHTTPError=t.fetchWithTimeout=t.encodeFormation=t.parseImportCode=t.safeJsonParse=t.isShipJson=t.isBooleanObj=t.urlValidation=void 0,a(5652),t.urlValidation=e=>void 0!==e&&""!==e&&new RegExp("https?://(www.)?azurlane.koumakan.jp.*","gi").test(e),t.isBooleanObj=e=>"boolean"==typeof e.All,t.isShipJson=e=>!Object.values(e).some((e=>"string"!=typeof e.id));const r=e=>e instanceof Array;t.safeJsonParse=e=>t=>{try{const a=JSON.parse(t);return!!e(a)&&a}catch(e){return!1}},t.parseImportCode=e=>{try{const a=atob(e);return t.safeJsonParse(r)(a)||!1}catch(e){return!1}},t.encodeFormation=e=>{const t=JSON.stringify(e);return btoa(t)},t.fetchWithTimeout=(e,t)=>{const a=new AbortController,r=fetch(e,{signal:a.signal}),l=setTimeout((()=>a.abort()),t);return r.finally((()=>clearTimeout(l)))},t.handleHTTPError=e=>{if(!e.ok)switch(e.status){case 404:throw new Error("Given URL cannot be found. [404]");default:throw new Error("Something went wrong with retriving data. [default]")}return e},t.downloadShipData=async e=>{let a=!1,r="";try{return await t.fetchWithTimeout("https://raw.githubusercontent.com/AzurAPI/azurapi-js-setup/master/ships.json",2e4).then(t.handleHTTPError).then((e=>e.json())).then((async t=>{if(e){const l=[...Object.keys(t).map((e=>t[e]))];e.setItem("shipData",l).then((()=>{a=!0})).catch((()=>{a=!1,r="Failed to save ship data to storage."}))}})).catch((e=>{a=!1,r=e.message})),{isOk:a,msg:r}}catch(e){return{isOk:!1,msg:"Failed to download and save ship data."}}}},3960:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(7243);class l{constructor(e){this.shipsArr=[],this.count=0,this.state="INIT",e?(this.shipsArr=[...e.slice()],this.count=e.length):(this.shipsArr=[],this.count=0),this.state="INIT"}getShipByIndex(e){return this.shipsArr[e]}async setArray(e){try{this.shipsArr=[...e.slice()],this.count=e.length}catch(e){return Promise.reject(new Error("Failed to set array in DataStore."))}return this.state="READY",Promise.resolve(e)}async getShipsByParams(e){let t=[];try{t=this.shipsArr.reduce(((t,a,r)=>(l._filterPredicate(e,a)&&t.push({id:a.id,index:r}),t)),[])}catch(e){return Promise.reject(new Error("Failed to get ships by params in DataStore."))}return Promise.resolve(t)}static _filterPredicate(e,t){let a=!1,l=!1,n=!1,o=!1;return a=t.names.en.toLowerCase().includes(e.name.toLowerCase()),t.nationality&&(l=!!e.nationality.All||e.nationality[t.nationality]),(t.hullType&&"ALL"===e.fleet||t.hullType&&"MAIN"===e.fleet&&r.fleets.MAIN.includes(t.hullType)||t.hullType&&"VANGUARD"===e.fleet&&r.fleets.VANGUARD.includes(t.hullType))&&(n=!!e.hullType.All||e.hullType[t.hullType]),t.rarity&&(o=!!e.rarity.All||e.rarity[t.rarity]),a&&l&&n&&o}static transformShipList(e){let t=[];return t=[...e.map(((e,t)=>({id:e.id,index:t})))],t}static transformStringList(e,t){let a=[];return a=[...t.map((t=>({id:t,index:e.findIndex((e=>e.id===t))})))],a}static async reduceByParams(e,t,a){let r=[];try{r=t.reduce(((t,r)=>(l._filterPredicate(a,e.shipsArr[r.index])&&t.push({id:r.id,index:r.index}),t)),[])}catch(e){return Promise.reject(new Error("Failed to reduce by params in DataStore."))}return Promise.resolve(r)}}t.default=l},5652:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initData=t.openWikiUrl=t.saveConfig=t.renameAFormation=t.removeAFormation=t.saveFormationData=t.saveOwnedShipData=t.saveShipData=t.checkResource=t.openLogs=t.maximizeWindow=t.minimizeWindow=t.restoreWindow=t.closeWindow=void 0;const r=a(250);t.closeWindow=()=>{window.api.electronIpcSend("close-application")},t.restoreWindow=()=>{window.api.electronIpcSend("restore-application")},t.minimizeWindow=()=>{window.api.electronIpcSend("minimize-application")},t.maximizeWindow=()=>{window.api.electronIpcSend("maximize-application")},t.openLogs=()=>{window.api.electronIpcSend("open-logs")},t.checkResource=async()=>window.api.electronCheckResources("resource-check"),t.saveShipData=async(e={})=>window.api.electronSaveData("save-ship-data",e).then((e=>e)),t.saveOwnedShipData=async(e=[])=>window.api.electronSaveData("save-owned-ships",e).then((e=>e)),t.saveFormationData=async(e=[])=>window.api.electronSaveData("save-formation-data",e).then((e=>e)),t.removeAFormation=async(e=0)=>window.api.electronRemoveAFormation("remove-formation-by-index",e).then((e=>e)),t.renameAFormation=async(e,t)=>window.api.electronRenameFormation("rename-formation-by-index",{idx:e,name:t}).then((e=>e)),t.saveConfig=async e=>window.api.electronSaveData("save-config",e).then((e=>e)),t.openWikiUrl=async e=>r.urlValidation(e)?window.api.electronShell(e):Promise.resolve(),t.initData=async e=>{if(e){const t=await e.getItem("shipData"),a=await e.getItem("config"),r=await e.getItem("ownedShips")||[],l=await e.getItem("formations")||[];let n=!1,o="",i="";return t?n=!0:(o="Could not find ship data.",i="ResNotFound"),{shipData:t,config:a,ownedShips:r,formations:l,isOk:n,msg:o,code:i}}return{shipData:[],config:{jsonURL:"",themeColor:"dark",firstTime:!0,formHelpTooltip:!1,isToast:!0,updateDate:""},ownedShips:[],formations:[],isOk:!1,msg:"",code:""}}}},0,[[8643,691,352]]]);